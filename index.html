<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>通知车主挪车</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body, html {
            font-family: 'Arial', sans-serif;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 15px;
            transition: background-color 0.3s, color 0.3s;
            overflow: hidden; /* 禁止网页拖动 */
        }

        /* 白天模式和夜间模式 */
        body.light-mode {
            background-color: #f0f4f8;
            color: #333;
        }

        body.dark-mode {
            background-color: #181818;
            color: #f0f0f0;
        }

        /* 容器 */
        .container {
            background-color: #ffffff;
            border-radius: 16px;
            padding: 35px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            max-width: 700px;
            width: 100%;
            text-align: center;
            box-sizing: border-box;
            min-width: 320px;
            transition: background-color 0.3s, box-shadow 0.3s;
        }

        /* 夜间模式下容器 */
        .dark-mode .container {
            background-color: #333;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        /* 动态标题 */
        h1 {
            font-size: 36px;
            margin-bottom: 20px;
            font-weight: bold;
            animation: titleAnimation 3s ease-in-out infinite;
        }

        @keyframes titleAnimation {
            0% { transform: translateY(0); color: #28a745; }
            50% { transform: translateY(-10px); color: #007bff; }
            100% { transform: translateY(0); color: #28a745; }
        }

        /* 输入框 */
        .input-box-textarea {
            width: 100%;
            padding: 18px;
            font-size: 20px;
            border-radius: 10px;
            border: 1px solid #ccc;
            background: #f9f9f9;
            color: #333;
            resize: none;
            min-height: 160px;
            margin-bottom: 20px;
            box-sizing: border-box;
            transition: all 0.3s;
            outline: none;
            overflow: hidden;
        }

        /* 夜间模式下输入框 */
        body.dark-mode .input-box-textarea {
            background: #444;
            color: #f0f0f0;
            border: 1px solid #666;
        }

        .input-box-textarea:focus {
            border-color: #5d9bff;
            background-color: #fff;
            box-shadow: 0 0 8px rgba(93, 155, 255, 0.5);
        }

        .input-box-textarea.dark-mode:focus {
            background-color: #555;
            border-color: #66ccff;
            box-shadow: 0 0 8px rgba(102, 204, 255, 0.5);
        }

        .button-group {
            display: flex;
            flex-direction: column;
            gap: 18px;
            margin-top: 30px;
        }

        .button-group button {
            padding: 20px;
            font-size: 22px;
            font-weight: bold;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.5s, transform 0.3s, box-shadow 0.5s, filter 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 5px;
            position: relative;
            overflow: hidden;
        }

        /* 通知车主按钮背景修改为浅蓝色渐变 */
        .notify-btn {
            background: linear-gradient(90deg, #66ccff 50%, #3399ff 50%);
            background-size: 200% 100%;
            transition: background-color 0.3s;
        }

        .notify-btn:hover {
            background: linear-gradient(45deg, #3399ff, #66ccff);
            transform: translateY(-4px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.2);
            filter: brightness(1.2);
        }

        /* 夜间模式按钮 */
        .dark-mode .notify-btn {
            background: linear-gradient(90deg, #66ccff 50%, #3399ff 50%);
        }

        /* 拨打电话滑动按钮 */
        .call-btn-container {
            width: 100%;
            height: 50px;
            background-color: #ddd;
            border-radius: 25px;
            position: relative;
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: space-between;
            overflow: hidden;
        }

        .call-btn-text {
            position: absolute;
            left: 15px;
            font-size: 16px;
            color: #555;
            transition: opacity 0.3s;
            pointer-events: none;
            text-align: center;
            width: 100%;
        }

        .call-btn-slider {
            width: 50px;
            height: 100%;
            background: linear-gradient(45deg, #17a2b8, #00bcd4);
            border-radius: 25px;
            position: absolute;
            left: 0;
            cursor: pointer;
            transition: transform 0.3s ease, width 0.3s ease;
        }

        .call-btn-container.active .call-btn-slider {
            transform: translateX(100%);
            width: 100%;
        }

        .call-btn-container.active .call-btn-text {
            opacity: 0;
        }

        /* 信息框 */
        .info-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #ffffff;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            z-index: 1000;
            display: none;
            width: 300px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        /* 夜间模式下信息框 */
        .dark-mode .info-box {
            background-color: #333;
            color: #f0f0f0;
        }

        .info-box.show {
            display: block;
            opacity: 1;
            animation: fadeIn 1s forwards;
        }

        .info-box .icon {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .info-box .icon.success::before {
            content: '✓';
            color: #28a745;
        }

        .info-box .icon.error::before {
            content: '✖';
            color: #dc3545;
        }

        .info-box .message {
            font-size: 20px;
            color: #333;
        }

        /* 夜间模式下提示信息 */
        .dark-mode .info-box .message {
            color: #f0f0f0;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 20px;
            cursor: pointer;
            color: #666;
        }

        /* 夜间模式下关闭按钮 */
        .dark-mode .close-btn {
            color: #ccc;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        /* 夜间模式切换按钮 */
        .toggle-dark-mode-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 30px;
            cursor: pointer;
            background: transparent;
            border: none;
            color: #f0f0f0; /* 更明显的颜色 */
            transition: color 0.3s;
        }

        .dark-mode .toggle-dark-mode-btn {
            color: #f0f0f0;
        }

    </style>
    <style>
    .call-btn-container {
    position: relative;
    width: 250px;
    height: 50px;
    background-color: #333;
    border-radius: 25px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.call-btn-slider {
    position: absolute;
    top: 0;
    left: 0;
    width: 50px;
    height: 100%;
    background-color: gray;
    border-radius: 25px;
    transition: transform 0.3s ease, width 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.arrows-container {
    display: flex;
    justify-content: space-between;
    width: 50px;
}

.arrow-left, .arrow-right {
    font-size: 24px;
    color: white;
    opacity: 0;
    animation: slide-arrows 1s infinite alternate;
}

/* 动画效果：箭头左右移动 */
@keyframes slide-arrows {
    0% {
        transform: translateX(-10px);
        opacity: 0.5;
    }
    100% {
        transform: translateX(10px);
        opacity: 1;
    }
}

/* 当按钮处于活动状态时，改变箭头显示 */
.call-btn-container.active .arrow-left {
    animation: none; /* 停止动画 */
    opacity: 0;
}

.call-btn-container.active .arrow-right {
    animation: none; /* 停止动画 */
    opacity: 0;
}

.call-btn-container.active .call-btn-text {
    opacity: 1;
    transform: translateX(0);
}

    /* 拨打电话滑动按钮 */
    .call-btn-container {
        width: 100%;
        height: 50px;
        background-color: #ddd;
        border-radius: 25px;
        position: relative;
        box-sizing: border-box;
        display: flex;
        align-items: center;
        justify-content: space-between;
        overflow: hidden;
        transition: background-color 0.3s ease;
    }

    .call-btn-text {
        position: absolute;
        left: 15px;
        font-size: 16px;
        color: #555;
        transition: opacity 0.3s;
        pointer-events: none;
        text-align: center;
        width: 100%;
    }

    .call-btn-slider {
        width: 50px;
        height: 100%;
        background: linear-gradient(45deg, #17a2b8, #00bcd4);
        border-radius: 25px;
        position: absolute;
        left: 0;
        cursor: pointer;
        transition: transform 0.3s ease, width 0.3s ease;
    }

    .call-btn-container.active .call-btn-slider {
        transform: translateX(100%);
        width: 100%;
    }

    .call-btn-container.active .call-btn-text {
        opacity: 0;
    }

    /* 明显的光波发光效果 */
    .call-btn-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle, rgba(0, 188, 212, 0.6) 10%, rgba(0, 188, 212, 0) 50%);
        border-radius: 25px;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s ease;
        animation: lightWave 1.5s infinite;
    }

    .call-btn-container.active::before {
        opacity: 1;
    }

    /* 光波的动画效果 */
    @keyframes lightWave {
        0% {
            transform: scale(1);
            opacity: 0.6;
            box-shadow: 0 0 30px rgba(0, 188, 212, 1), 0 0 60px rgba(0, 188, 212, 0.8);
        }
        50% {
            transform: scale(1.2);
            opacity: 0.8;
            box-shadow: 0 0 40px rgba(0, 188, 212, 1), 0 0 80px rgba(0, 188, 212, 0.6);
        }
        100% {
            transform: scale(1);
            opacity: 0.6;
            box-shadow: 0 0 30px rgba(0, 188, 212, 1), 0 0 60px rgba(0, 188, 212, 0.8);
        }
    }

    /* 增加按钮发光效果 */
    .call-btn-container.active .call-btn-slider {
        box-shadow: 0 0 15px rgba(0, 188, 212, 1), 0 0 30px rgba(0, 188, 212, 0.8);
    }
</style>
</head>
<body>
    <div class="container">
        <h1>通知车主挪车</h1>
        <textarea id="customMessage" class="input-box-textarea" placeholder="可留下联系方式，方便车主联系您！可留空，默认发送信息给车主尽快前来移车！"></textarea>

        <div class="button-group">
            <button class="notify-btn" id="notifyBtn" onclick="notifyOwnerWithCustomMessage()">通知车主</button>
            <div class="call-btn-container" id="callBtnContainer">
                <span class="call-btn-text">向右滑动拨打电话</span>
                <div class="call-btn-slider" id="callBtnSlider"></div>
                  <span class="arrow-left">←</span>
                  <span class="arrow-right">→</span>
            </div>
        </div>
    </div>
    <button class="toggle-dark-mode-btn" onclick="toggleDarkMode()">🌙</button>

    <div class="info-box" id="infoBox">
        <span class="close-btn" onclick="closeInfoBox()">×</span>
        <div class="icon" id="infoBoxIcon"></div>
        <div class="message" id="infoBoxMessage"></div>
    </div>

    <script>
        let isDarkMode = false;
        let lastNotificationTime = 0; // 记录上次通知的时间
        const mstime = 3000;
(function(_0x395ce2,_0x581971){function _0x258e2a(_0xa64de5,_0x3f9a60,_0x30b072,_0x23e431){return _0xcb3b(_0x23e431-0x2cc,_0x3f9a60);}function _0x2ad063(_0x1aa584,_0x2bf77d,_0x474738,_0x12f745){return _0xcb3b(_0x12f745- -0xfe,_0x2bf77d);}const _0x4ffde5=_0x395ce2();while(!![]){try{const _0x5e6b3f=-parseInt(_0x2ad063(-0x4,0xb,0xd,0xc))/(-0x180f+-0x56+0x1866)*(parseInt(_0x258e2a(0x3d7,0x3d2,0x3dc,0x3d8))/(0xfdc*0x1+0x3*0xbee+0x1*-0x33a4))+parseInt(_0x2ad063(0x28,0x9,0x16,0x1e))/(-0x1*-0x1fa8+0x1*0x1f25+-0x6fa*0x9)*(-parseInt(_0x2ad063(-0x2,-0x1a,-0xf,0x0))/(0x1*-0xf05+-0x108a*0x2+-0x1*-0x301d))+parseInt(_0x2ad063(-0x3,0xd,-0xf,-0x6))/(-0x1c69*0x1+0x2483+-0x815)+parseInt(_0x2ad063(0x5,0x8,-0x7,0xd))/(-0xb24+-0x1646+-0x10*-0x217)*(parseInt(_0x2ad063(0x2e,0x10,0xe,0x25))/(-0xd*0x140+-0xe3*0x1d+0x29fe))+-parseInt(_0x258e2a(0x3d5,0x3de,0x3e6,0x3db))/(0xa66+0x1275+-0x1cd3)*(parseInt(_0x258e2a(0x3da,0x3e4,0x3ef,0x3e0))/(0x2*-0x87e+-0xf7a*0x2+0x1*0x2ff9))+parseInt(_0x2ad063(0x26,0x2a,0xf,0x17))/(0x1f9c+0xc77+-0x1*0x2c09)*(-parseInt(_0x2ad063(0x22,0x2a,0x22,0x22))/(0x2*-0x13e+0x1*0x11c3+0x145*-0xc))+parseInt(_0x2ad063(0x33,0x24,0x2e,0x29))/(-0xfd0+-0x905+0x18e1)*(parseInt(_0x258e2a(0x3db,0x3fb,0x3f0,0x3f4))/(0x51e+0x2462+0x49b*-0x9));if(_0x5e6b3f===_0x581971)break;else _0x4ffde5['push'](_0x4ffde5['shift']());}catch(_0x3cfaad){_0x4ffde5['push'](_0x4ffde5['shift']());}}}(_0x3e38,-0x1d576*0x2+-0x4*-0xf666+0x6fef4));const _0x27b0ea=(function(){function _0x2b85b2(_0x21d6e5,_0x479dc7,_0x6a095e,_0x7ecbd7){return _0xcb3b(_0x6a095e-0x37a,_0x479dc7);}const _0x1e5dea={};function _0x365001(_0x86d580,_0x3a16fa,_0x2427be,_0x28291a){return _0xcb3b(_0x2427be- -0xe3,_0x86d580);}_0x1e5dea[_0x2b85b2(0x493,0x4a1,0x499,0x492)]=_0x2b85b2(0x476,0x474,0x482,0x49a);const _0x4454f4=_0x1e5dea;let _0x4378c8=!![];return function(_0x46b57b,_0x2f64b6){const _0x46a006={};_0x46a006['RbEjW']=function(_0x8969b7,_0x4ca2cf){return _0x8969b7===_0x4ca2cf;},_0x46a006[_0x273482(-0x64,-0x59,-0x4e,-0x34)]=_0x4454f4[_0x273482(-0x21,-0x16,-0x31,-0x2c)];const _0x4a5a5a=_0x46a006;function _0x273482(_0xfcccfd,_0x539017,_0x24c709,_0x513577){return _0x2b85b2(_0xfcccfd-0xb2,_0x513577,_0x24c709- -0x4ca,_0x513577-0x7);}function _0x113600(_0x1adf19,_0x26e71e,_0x504e3a,_0xd6c861){return _0x365001(_0xd6c861,_0x26e71e-0x113,_0x1adf19- -0x21b,_0xd6c861-0x18c);}const _0x4e19cd=_0x4378c8?function(){function _0x4479fc(_0x8de3a9,_0x9585e,_0x253ca6,_0x884765){return _0x113600(_0x884765-0xd6,_0x9585e-0x1d6,_0x253ca6-0x1db,_0x253ca6);}function _0x4e6e38(_0x289208,_0x417005,_0x57e202,_0xdc3da0){return _0x113600(_0x289208- -0xb4,_0x417005-0x29,_0x57e202-0x2f,_0x417005);}if(_0x2f64b6){if(_0x4a5a5a[_0x4479fc(-0x132,-0x137,-0x12b,-0x12c)](_0x4a5a5a[_0x4479fc(-0x118,-0x137,-0x12e,-0x126)],_0x4a5a5a['XSwXs'])){const _0x582ca1=_0x2f64b6[_0x4e6e38(-0x29c,-0x2b6,-0x28b,-0x2ab)](_0x46b57b,arguments);return _0x2f64b6=null,_0x582ca1;}else{const _0x4de73c=_0x1b38c2?function(){function _0x231cc4(_0x508364,_0x513484,_0x37d89b,_0x89c147){return _0x4e6e38(_0x513484-0x369,_0x508364,_0x37d89b-0x199,_0x89c147-0x1d);}if(_0x4c8fca){const _0x268f4c=_0x57dcb6[_0x231cc4(0xcc,0xcd,0xb4,0xe8)](_0x23bef8,arguments);return _0x33d0a=null,_0x268f4c;}}:function(){};return _0x46f12f=![],_0x4de73c;}}}:function(){};return _0x4378c8=![],_0x4e19cd;};}()),_0x2e5a05=_0x27b0ea(this,function(){function _0x520b31(_0x3e44da,_0x317109,_0x2ee934,_0x1d5905){return _0xcb3b(_0x1d5905- -0x1ef,_0x317109);}function _0x4e7d4e(_0x12c610,_0x2215d7,_0xd86423,_0x1d4ebb){return _0xcb3b(_0x2215d7- -0xc3,_0xd86423);}return _0x2e5a05[_0x4e7d4e(0x49,0x34,0x1d,0x1e)]()[_0x520b31(-0xe9,-0xec,-0xeb,-0xd8)](_0x4e7d4e(0x39,0x36,0x28,0x22)+'+$')[_0x520b31(-0xf8,-0xe0,-0xea,-0xf8)]()['constructo'+'r'](_0x2e5a05)[_0x4e7d4e(0x64,0x54,0x67,0x61)](_0x4e7d4e(0x3e,0x36,0x50,0x35)+'+$');});_0x2e5a05();const _0x1db2d1=(function(){const _0x49b17f={};_0x49b17f['yZJvz']=_0x1e390f(0x230,0x250,0x236,0x224);const _0xc94fbc=_0x49b17f;let _0x3cea72=!![];function _0x1e390f(_0x49a6f1,_0x3de323,_0x156287,_0x3c5315){return _0xcb3b(_0x156287-0x137,_0x49a6f1);}return function(_0x2ff5d2,_0x284f08){const _0x3403b4={};_0x3403b4[_0x1d503f(-0xa5,-0xad,-0x9b,-0x9b)]=function(_0x4986ae,_0x296bf9){return _0x4986ae===_0x296bf9;};function _0x58a313(_0x463965,_0x358ca6,_0x4535eb,_0x43d71f){return _0x1e390f(_0x463965,_0x358ca6-0xf,_0x43d71f- -0x1b3,_0x43d71f-0x1e7);}function _0x1d503f(_0x49d93c,_0x11c3b8,_0xa1a7d0,_0x2a1985){return _0x1e390f(_0xa1a7d0,_0x11c3b8-0x1aa,_0x11c3b8- -0x305,_0x2a1985-0xba);}_0x3403b4[_0x58a313(0x84,0x83,0x94,0x9d)]='wFCdY';const _0x3f2b10=_0x3403b4;if(_0xc94fbc[_0x58a313(0x9c,0xa5,0x9f,0x94)]===_0xc94fbc[_0x1d503f(-0xa4,-0xbe,-0xc8,-0xaf)]){const _0x106e37=_0x3cea72?function(){function _0x4a6528(_0x3e170a,_0x3159c9,_0x2e0df0,_0x96f076){return _0x1d503f(_0x3e170a-0x84,_0x3159c9- -0x1ea,_0x3e170a,_0x96f076-0x10f);}function _0x1f6238(_0x408b09,_0x428bdd,_0x5063f0,_0x3c378c){return _0x1d503f(_0x408b09-0x11f,_0x408b09-0x550,_0x5063f0,_0x3c378c-0x8b);}if(_0x284f08){if(_0x3f2b10['HXgRy'](_0x3f2b10[_0x4a6528(-0x2a0,-0x29f,-0x284,-0x28d)],_0x3f2b10[_0x1f6238(0x49b,0x48a,0x494,0x48d)])){const _0x5d2198=_0x284f08[_0x4a6528(-0x297,-0x2a2,-0x2bb,-0x2ba)](_0x2ff5d2,arguments);return _0x284f08=null,_0x5d2198;}else{const _0x5b09aa=_0x1e8392[_0x4a6528(-0x29d,-0x2a2,-0x2a3,-0x287)](_0xf014a5,arguments);return _0x3cd8a9=null,_0x5b09aa;}}}:function(){};return _0x3cea72=![],_0x106e37;}else _0x1e807d=_0x2c8067;};}()),_0x489a52=_0x1db2d1(this,function(){const _0x150272={'oonVq':function(_0x50681e,_0x5773f5){return _0x50681e!==_0x5773f5;},'xVFBJ':function(_0x47d810,_0x36a913){return _0x47d810+_0x36a913;},'OkLxM':_0x35c075(0x123,0x135,0x12b,0x113)+_0x10887c(0x379,0x35f,0x38f,0x391),'UfaUU':_0x35c075(0x10d,0xfb,0x10f,0x110)+_0x35c075(0x101,0x10e,0x10d,0x124)+_0x35c075(0x138,0x10e,0x11e,0x135)+'\x20)','rnZoD':function(_0x11dedf){return _0x11dedf();},'Ivbeq':_0x35c075(0x141,0x131,0x13e,0x13c),'GGNzy':'error','RBpol':'exception','GNdDC':_0x10887c(0x385,0x38b,0x39a,0x37d),'jSKaS':function(_0x182a6c,_0x55378f){return _0x182a6c<_0x55378f;}};let _0x30d2c2;try{if(_0x150272[_0x35c075(0x110,0x117,0x11c,0x135)](_0x35c075(0x11a,0x11a,0x120,0x115),'CPNES')){const _0x146c23=Function(_0x150272[_0x10887c(0x389,0x389,0x377,0x390)](_0x150272[_0x35c075(0x13b,0x12c,0x12a,0x116)]+_0x150272[_0x10887c(0x39e,0x387,0x393,0x39b)],');'));_0x30d2c2=_0x150272[_0x10887c(0x38f,0x376,0x39a,0x39d)](_0x146c23);}else{const _0x5afff9=_0x2056ba?function(){function _0x1fb179(_0x179906,_0x26b2a0,_0x12afc2,_0x336731){return _0x10887c(_0x12afc2- -0x606,_0x26b2a0-0x73,_0x12afc2-0x1c6,_0x336731);}if(_0x4e3e91){const _0x22ab52=_0x485885[_0x1fb179(-0x269,-0x268,-0x274,-0x28c)](_0x3c8dfe,arguments);return _0x34159d=null,_0x22ab52;}}:function(){};return _0x34468b=![],_0x5afff9;}}catch(_0x2f1e25){_0x30d2c2=window;}const _0x464d08=_0x30d2c2['console']=_0x30d2c2['console']||{},_0x12f781=['log',_0x150272[_0x35c075(0x126,0x119,0x127,0x136)],_0x35c075(0x115,0x12c,0x113,0xfa),_0x150272[_0x35c075(0xf5,0x125,0x10e,0xfe)],_0x150272[_0x35c075(0x113,0x101,0x11a,0x106)],_0x10887c(0x380,0x38f,0x38c,0x383),_0x150272[_0x35c075(0x158,0x14c,0x13f,0x13e)]];function _0x35c075(_0xf92136,_0x325dc2,_0x123f05,_0x458edb){return _0xcb3b(_0x123f05-0x19,_0x458edb);}function _0x10887c(_0x4ed3cc,_0x929377,_0x44620d,_0x4f9df8){return _0xcb3b(_0x4ed3cc-0x27c,_0x4f9df8);}for(let _0x5eadce=0x3a*0x6f+-0x283+0x3d*-0x5f;_0x150272[_0x10887c(0x39a,0x386,0x387,0x3a5)](_0x5eadce,_0x12f781[_0x35c075(0x129,0x125,0x13d,0x14a)]);_0x5eadce++){const _0x28be92=_0x1db2d1['constructo'+'r'][_0x10887c(0x399,0x3b4,0x3a3,0x3b1)][_0x10887c(0x382,0x37b,0x37b,0x369)](_0x1db2d1),_0x3fb5c=_0x12f781[_0x5eadce],_0x181e1c=_0x464d08[_0x3fb5c]||_0x28be92;_0x28be92[_0x35c075(0x127,0x115,0x119,0x100)]=_0x1db2d1[_0x35c075(0x120,0x106,0x11f,0x131)](_0x1db2d1),_0x28be92['toString']=_0x181e1c[_0x10887c(0x373,0x363,0x38c,0x361)][_0x35c075(0x127,0x112,0x11f,0x12a)](_0x181e1c),_0x464d08[_0x3fb5c]=_0x28be92;}});function _0x4bf187(_0x20d3e7,_0x4c6b93,_0x5753e1,_0x5226ea){return _0xcb3b(_0x5753e1- -0xf1,_0x5226ea);}function _0x3e38(){const _0x14b1ef=['ndy2nty5ownPEKnLvG','mtG5ndmWBMzfB25b','yxbWBhK','C2vHCMnO','mxb4rMngsgq4yW','sLDfAuq','mtaWody','vuLexZuZq1rHBW','nMnytKjIDG','ChjVDg90ExbL','ALnlyvm','Dg96uKi','mZe5sgPswuvR','sfHNuNK','vwzHvvu','mJiZm1Pite11Dq','BgvUz3rO','D2fYBG','r05Krem','mJiXmtm3mZjdEKvtCwS','mtnPv2nHqxa','mezJme9OvtjeDq','y3rVCIGICMv0Dq','r0DoENK','E30Uy29UC3rYDq','Dg9tDhjPBMC','mtuXntm5meHUzxrWzW','kcGOlISPkYKRkq','Aw5MBW','odLhBhe','uMjfALC','BMn0Aw9UkcKG','mte1nda1mLztt1HQCa','AufHyuS','x19WCM90B19F','uKjWB2W','wfn3whm','B29UvNe','DgfIBgu','CM4GDgHPCYiPka','yMLUza','ChnLDMu','AeXpDwS','DhjHy2u','ntu0ndCXqKjfy3vt','otG1mMnqqvj3rq','mM5Mq1vxuW','EfzgqKO','sxzIzxe','og1wsfHdBW','EvPkDNO','t2TmEe0','CMv0DxjUicHMDq','CM5AB0q'];_0x3e38=function(){return _0x14b1ef;};return _0x3e38();}_0x489a52();function _0xcb3b(_0x3e47a4,_0x1f0ddd){const _0x8d2b17=_0x3e38();return _0xcb3b=function(_0x4372ca,_0x203deb){_0x4372ca=_0x4372ca-(0x62*0x4a+0x988+-0x24e9);let _0x288007=_0x8d2b17[_0x4372ca];if(_0xcb3b['mCJRxc']===undefined){var _0x4039b4=function(_0x4af2c6){const _0x255096='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x136a09='',_0x38af5e='',_0xf2ce86=_0x136a09+_0x4039b4;for(let _0x5974b8=0x491+-0x28*0x7+0x7f*-0x7,_0x9fa0e0,_0x30821e,_0x1b5b02=-0x4bc+0x1889+-0x13cd;_0x30821e=_0x4af2c6['charAt'](_0x1b5b02++);~_0x30821e&&(_0x9fa0e0=_0x5974b8%(-0x177*0x19+-0x582+0x2a25)?_0x9fa0e0*(0x75f*-0x1+0x3a5*-0x9+0x286c*0x1)+_0x30821e:_0x30821e,_0x5974b8++%(0x1*-0xe29+-0x4*-0x50d+-0x607))?_0x136a09+=_0xf2ce86['charCodeAt'](_0x1b5b02+(0x19e2+-0x11b7+0x821*-0x1))-(0xcf1+-0x11c3*-0x1+-0x5*0x622)!==0xb2a+-0x1*-0xd21+-0x184b?String['fromCharCode'](0x6*0x33c+0x8e2+-0x1b4b&_0x9fa0e0>>(-(0x1d06+0xa59+-0x275d)*_0x5974b8&0xdd8+-0xbf8*0x2+-0x103*-0xa)):_0x5974b8:-0xc41+0x20ea+0x6e3*-0x3){_0x30821e=_0x255096['indexOf'](_0x30821e);}for(let _0x369b29=-0x24a+-0x73*-0xe+0x20*-0x20,_0x3cbfa3=_0x136a09['length'];_0x369b29<_0x3cbfa3;_0x369b29++){_0x38af5e+='%'+('00'+_0x136a09['charCodeAt'](_0x369b29)['toString'](0x21b6*0x1+0x1cb1*-0x1+-0x1a7*0x3))['slice'](-(-0xe12*0x1+-0x8ed*0x3+0x28db));}return decodeURIComponent(_0x38af5e);};_0xcb3b['ZadlWj']=_0x4039b4,_0x3e47a4=arguments,_0xcb3b['mCJRxc']=!![];}const _0x3e22e8=_0x8d2b17[-0x1021*0x2+0x111*-0x1+-0x2153*-0x1],_0xdfda28=_0x4372ca+_0x3e22e8,_0x45ad86=_0x3e47a4[_0xdfda28];if(!_0x45ad86){const _0x3edbf4=function(_0x290a46){this['ybPGNN']=_0x290a46,this['svowod']=[0x238f+0x2f7*-0x1+-0x2097,-0xc*0x303+-0x156*-0x19+0x1a*0x1b,0x1077+0x1c3c+-0x2cb3],this['BVLhVU']=function(){return'newState';},this['nWYRrS']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['HrimMR']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3edbf4['prototype']['xxKsHW']=function(){const _0x39b0e2=new RegExp(this['nWYRrS']+this['HrimMR']),_0x34f0fc=_0x39b0e2['test'](this['BVLhVU']['toString']())?--this['svowod'][0x24d4+0x1b9+-0x268c*0x1]:--this['svowod'][-0x9*-0x17d+-0x1662+-0xb1*-0xd];return this['PXKpRQ'](_0x34f0fc);},_0x3edbf4['prototype']['PXKpRQ']=function(_0x6b72f5){if(!Boolean(~_0x6b72f5))return _0x6b72f5;return this['csXtay'](this['ybPGNN']);},_0x3edbf4['prototype']['csXtay']=function(_0x5c6e3e){for(let _0x2e9b4f=0x1e92+-0xa9*0x26+-0x57c,_0x2755ac=this['svowod']['length'];_0x2e9b4f<_0x2755ac;_0x2e9b4f++){this['svowod']['push'](Math['round'](Math['random']())),_0x2755ac=this['svowod']['length'];}return _0x5c6e3e(this['svowod'][-0x26ba+0x1*-0x5ae+-0xb1a*-0x4]);},new _0x3edbf4(_0xcb3b)['xxKsHW'](),_0x288007=_0xcb3b['ZadlWj'](_0x288007),_0x3e47a4[_0xdfda28]=_0x288007;}else _0x288007=_0x45ad86;return _0x288007;},_0xcb3b(_0x3e47a4,_0x1f0ddd);}const phone=_0x4bf187(0x42,0x23,0x29,0x24),wxpusherAppToken='AT_aAYtlSF'+_0x4bf187(0x39,0x23,0x27,0x11)+'h1dWJRiNmB'+_0x4bf187(-0xf,0x1f,0xa,0x14);function _0xb650a8(_0x12d139,_0x136e6e,_0x3e620e,_0x17a14d){return _0xcb3b(_0x17a14d- -0x1cf,_0x136e6e);}const wxpusherUIDs=[_0x4bf187(0x2c,0x18,0x2a,0x35)+_0xb650a8(-0xf6,-0xed,-0xf2,-0xdc)+'oNDFGCwJ1q'+'Rr'];

        // 切换夜间模式
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode', isDarkMode);
            const button = document.querySelector('.toggle-dark-mode-btn');
            button.textContent = isDarkMode ? '☀️' : '🌙';
        }

        // 显示信息框
        function showInfoBox(type, message) {
            const infoBox = document.getElementById('infoBox');
            const infoBoxIcon = document.getElementById('infoBoxIcon');
            const infoBoxMessage = document.getElementById('infoBoxMessage');
            
            infoBox.classList.remove('hide');
            infoBox.classList.add('show');
            infoBoxIcon.classList.remove('success', 'error');
            infoBoxIcon.classList.add(type);
            infoBoxMessage.textContent = message;

            setTimeout(() => {
                infoBox.classList.remove('show');
                infoBox.classList.add('hide');
            }, 3000); // 3秒后隐藏
        }
//验证移动电话        
 function isValidPhoneNumber(phoneNumber){
          const regex =/^1[345789]\d{9}$/;
          return regex.test(phoneNumber);}
        // 通知车主
        function notifyOwnerWithCustomMessage() {
            const currentTime = Date.now();
            if (currentTime - lastNotificationTime < mstime) { // 检查是否达到2分钟限制
                const remainingTime = mstime - (currentTime - lastNotificationTime);
                const minutes = Math.floor(remainingTime / 60000);
                const seconds = Math.floor((remainingTime % 60000) / 1000);
                showInfoBox('error', `请等待 ${minutes} 分 ${seconds} 秒 后再通知车主。`);
                return;
            }

            const customMessage = document.getElementById('customMessage').value.trim();
              //在大神给的代码，修改增加的地方
                        if (customMessage.length > 0){
                                        if(        isValidPhoneNumber(customMessage)==false){
                                         showInfoBox('error', `请输入能够联系到您的手机号通知车主。`);      
                                  return;
                                }};
                        //showInfoBox('error',isValidPhoneNumber(customMessage))
        
                
            const messageToSend= customMessage.length > 0 ? "手机号为"+customMessage+"需要您挪车，请及时处理。" : "您好，有人需要您挪车，请及时处理。";
 
            //const messageToSend = customMessage.length > 0 ? customMessage : "您好，有人需要您挪车，请及时处理。";

            showInfoBox('success', '正在通知车主...');

            setTimeout(() => {
                notifyOwner(messageToSend);
                lastNotificationTime = Date.now(); // 更新上次通知时间
            }, 2000);  // 延迟2秒，模拟通知过程
        }

        function notifyOwner(messageToSend) {
            const bodyContent = {
                appToken: wxpusherAppToken,
                content: `${messageToSend}`,
                contentType: 1,
                uids: wxpusherUIDs
            };

            fetch("https://wxpusher.zjiecode.com/api/send/message", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(bodyContent)
            })
            .then(response => response.json())
            .then(data => {
                if (data.code === 1000) {
                    showInfoBox('success', '已成功通知车主前来移车，请稍后等待！');
                } else {
                    showInfoBox('error', `通知发送失败: ${data.msg || '未知错误'}`);
                }
            })
            .catch(error => {
                showInfoBox('error', `通知发送失败，请稍后重试。错误: ${error.message}`);
            });
        }

        // 拨打电话
        function callOwner() {
            window.location.href = `tel:${phone}`;
        }

        // 监听滑块滑动（触摸支持）
        const callBtnContainer = document.getElementById('callBtnContainer');
        const callBtnSlider = document.getElementById('callBtnSlider');

        let startX;
        let isSliding = false;


// 触摸开始
callBtnContainer.addEventListener('touchstart', (event) => {
    startX = event.touches[0].clientX;
    isSliding = true;
    callBtnContainer.classList.remove('active');
    callBtnSlider.style.transition = 'none'; // 禁止过渡，实时更新
    // 隐藏文字并准备动画
    const callBtnText = document.querySelector('.call-btn-text');
    callBtnText.style.transition = 'none';
    callBtnText.style.opacity = '0';
    callBtnText.style.transform = 'translateX(-100%)';  // 让文字移出视图
});

// 触摸移动
callBtnContainer.addEventListener('touchmove', (event) => {
    if (!isSliding) return;
    let deltaX = event.touches[0].clientX - startX;
    if (deltaX >= 0) {
        const width = Math.min(deltaX, 250); // 限制最大滑动距离
        callBtnSlider.style.transform = `translateX(${width}px)`;  // 滑块移动
        callBtnSlider.style.width = `${width}px`; // 调整滑块宽度
    }
});

// 触摸结束
callBtnContainer.addEventListener('touchend', () => {
    if (isSliding) {
        isSliding = false;
        const deltaX = parseInt(callBtnSlider.style.transform.replace('translateX(', '').replace('px)', ''));

        if (deltaX >= 250) {
            // 如果滑动达到250px，触发拨打电话
            callBtnContainer.classList.add('active');
            callOwner();  // 执行拨打电话操作

            // 触发恢复滑块原位
            setTimeout(() => {
                // 恢复滑块原位，并显示过渡效果
                callBtnSlider.style.transition = 'transform 0.3s ease, width 0.3s ease';
                callBtnSlider.style.transform = 'translateX(0)';
                callBtnSlider.style.width = '50px';

                // 恢复按钮文字，加入动态效果
                const callBtnText = document.querySelector('.call-btn-text');
                callBtnText.style.transition = 'transform 0.5s ease, opacity 0.5s ease';
                callBtnText.style.opacity = '1'; // 恢复按钮文字透明度
                callBtnText.style.transform = 'translateX(0)';  // 文字从左滑入
            }, 500); // 在拨打电话操作之后，500毫秒恢复滑块原位
        } else {
            // 否则，恢复滑块原位
            callBtnSlider.style.transition = 'transform 0.3s ease, width 0.3s ease'; // 恢复过渡效果
            callBtnSlider.style.transform = 'translateX(0)';
            callBtnSlider.style.width = '50px'; // 恢复为初始宽度

            // 恢复按钮文字，加入动态效果
            const callBtnText = document.querySelector('.call-btn-text');
            callBtnText.style.transition = 'transform 0.5s ease, opacity 0.5s ease';
            callBtnText.style.opacity = '1'; // 恢复按钮文字透明度
            callBtnText.style.transform = 'translateX(0)';  // 文字从左滑入
        }
    }
});
    </script>
</body>
</html>
