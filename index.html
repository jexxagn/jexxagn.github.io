
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>通知车主挪车</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body, html {
            font-family: 'Arial', sans-serif;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 15px;
            transition: background-color 0.3s, color 0.3s;
            overflow: hidden; /* 禁止网页拖动 */
        }

        /* 白天模式和夜间模式 */
        body.light-mode {
            background-color: #f0f4f8;
            color: #333;
        }

        body.dark-mode {
            background-color: #181818;
            color: #f0f0f0;
        }

        /* 容器 */
        .container {
            background-color: #ffffff;
            border-radius: 16px;
            padding: 35px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            max-width: 700px;
            width: 100%;
            text-align: center;
            box-sizing: border-box;
            min-width: 320px;
            transition: background-color 0.3s, box-shadow 0.3s;
        }

        /* 夜间模式下容器 */
        .dark-mode .container {
            background-color: #333;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        /* 动态标题 */
        h1 {
            font-size: 36px;
            margin-bottom: 20px;
            font-weight: bold;
            animation: titleAnimation 3s ease-in-out infinite;
        }

        @keyframes titleAnimation {
            0% { transform: translateY(0); color: #28a745; }
            50% { transform: translateY(-10px); color: #007bff; }
            100% { transform: translateY(0); color: #28a745; }
        }

        /* 输入框 */
        .input-box-textarea {
            width: 100%;
            padding: 18px;
            font-size: 12px;
            line-height:1.5em;
            border-radius: 10px;
            border: 1px solid #ccc;
            background: #f9f9f9;
            color: #333;
            resize: none;
            margin-bottom: 20px;
            box-sizing: border-box;
            transition: all 0.3s;
            outline: none;
            overflow: hidden;
        }

        /* 夜间模式下输入框 */
        body.dark-mode .input-box-textarea {
            background: #444;
            color: #f0f0f0;
            border: 1px solid #666;
        }

        .input-box-textarea:focus {
            border-color: #5d9bff;
            background-color: #fff;
            box-shadow: 0 0 8px rgba(93, 155, 255, 0.5);
        }

        .input-box-textarea.dark-mode:focus {
            background-color: #555;
            border-color: #66ccff;
            box-shadow: 0 0 8px rgba(102, 204, 255, 0.5);
        }

        .button-group {
            display: flex;
            flex-direction: column;
            gap: 18px;
            margin-top: 30px;
        }

        .button-group button {
            padding: 20px;
            font-size: 22px;
            font-weight: bold;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.5s, transform 0.3s, box-shadow 0.5s, filter 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 5px;
            position: relative;
            overflow: hidden;
        }

        /* 通知车主按钮背景修改为浅蓝色渐变 */
        .notify-btn {
            background: linear-gradient(90deg, #66ccff 50%, #3399ff 50%);
            background-size: 200% 100%;
            transition: background-color 0.3s;
        }

        .notify-btn:hover {
            background: linear-gradient(45deg, #3399ff, #66ccff);
            transform: translateY(-4px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.2);
            filter: brightness(1.2);
        }

        /* 夜间模式按钮 */
        .dark-mode .notify-btn {
            background: linear-gradient(90deg, #66ccff 50%, #3399ff 50%);
        }

        /* 拨打电话滑动按钮 */
        .call-btn-container {
            width: 100%;
            height: 50px;
            background-color: #ddd;
            border-radius: 25px;
            position: relative;
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: space-between;
            overflow: hidden;
        }

        .call-btn-text {
            position: absolute;
            left: 15px;
            font-size: 16px;
            color: #555;
            transition: opacity 0.3s;
            pointer-events: none;
            text-align: center;
            width: 100%;
        }

        .call-btn-slider {
            width: 50px;
            height: 100%;
            background: linear-gradient(45deg, #17a2b8, #00bcd4);
            border-radius: 25px;
            position: absolute;
            left: 0;
            cursor: pointer;
            transition: transform 0.3s ease, width 0.3s ease;
        }

        .call-btn-container.active .call-btn-slider {
            transform: translateX(100%);
            width: 100%;
        }

        .call-btn-container.active .call-btn-text {
            opacity: 0;
        }

        /* 信息框 */
        .info-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #ffffff;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            z-index: 1000;
            display: none;
            width: 300px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        /* 夜间模式下信息框 */
        .dark-mode .info-box {
            background-color: #333;
            color: #f0f0f0;
        }

        .info-box.show {
            display: block;
            opacity: 1;
            animation: fadeIn 1s forwards;
        }

        .info-box .icon {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .info-box .icon.success::before {
            content: '✓';
            color: #28a745;
        }

        .info-box .icon.error::before {
            content: '✖';
            color: #dc3545;
        }

        .info-box .message {
            font-size: 20px;
            color: #333;
        }

        /* 夜间模式下提示信息 */
        .dark-mode .info-box .message {
            color: #f0f0f0;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 20px;
            cursor: pointer;
            color: #666;
        }

        /* 夜间模式下关闭按钮 */
        .dark-mode .close-btn {
            color: #ccc;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        /* 夜间模式切换按钮 */
        .toggle-dark-mode-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 30px;
            cursor: pointer;
            background: transparent;
            border: none;
            color: #f0f0f0; /* 更明显的颜色 */
            transition: color 0.3s;
        }

        .dark-mode .toggle-dark-mode-btn {
            color: #f0f0f0;
        }

    </style>
    <style>
    .call-btn-container {
    position: relative;
    width: 250px;
    height: 50px;
    background-color: #333;
    border-radius: 25px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.call-btn-slider {
    position: absolute;
    top: 0;
    left: 0;
    width: 50px;
    height: 100%;
    background-color: gray;
    border-radius: 25px;
    transition: transform 0.3s ease, width 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.arrows-container {
    display: flex;
    justify-content: space-between;
    width: 50px;
}

.arrow-left, .arrow-right {
    font-size: 24px;
    color: white;
    opacity: 0;
    animation: slide-arrows 1s infinite alternate;
}

/* 动画效果：箭头左右移动 */
@keyframes slide-arrows {
    0% {
        transform: translateX(-10px);
        opacity: 0.5;
    }
    100% {
        transform: translateX(10px);
        opacity: 1;
    }
}

/* 当按钮处于活动状态时，改变箭头显示 */
.call-btn-container.active .arrow-left {
    animation: none; /* 停止动画 */
    opacity: 0;
}

.call-btn-container.active .arrow-right {
    animation: none; /* 停止动画 */
    opacity: 0;
}

.call-btn-container.active .call-btn-text {
    opacity: 1;
    transform: translateX(0);
}

    /* 拨打电话滑动按钮 */
    .call-btn-container {
        width: 100%;
        height: 50px;
        background-color: #ddd;
        border-radius: 25px;
        position: relative;
        box-sizing: border-box;
        display: flex;
        align-items: center;
        justify-content: space-between;
        overflow: hidden;
        transition: background-color 0.3s ease;
    }

    .call-btn-text {
        position: absolute;
        left: 15px;
        font-size: 16px;
        color: #555;
        transition: opacity 0.3s;
        pointer-events: none;
        text-align: center;
        width: 100%;
    }

    .call-btn-slider {
        width: 50px;
        height: 100%;
        background: linear-gradient(45deg, #17a2b8, #00bcd4);
        border-radius: 25px;
        position: absolute;
        left: 0;
        cursor: pointer;
        transition: transform 0.3s ease, width 0.3s ease;
    }

    .call-btn-container.active .call-btn-slider {
        transform: translateX(100%);
        width: 100%;
    }

    .call-btn-container.active .call-btn-text {
        opacity: 0;
    }

    /* 明显的光波发光效果 */
    .call-btn-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle, rgba(0, 188, 212, 0.6) 10%, rgba(0, 188, 212, 0) 50%);
        border-radius: 25px;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s ease;
        animation: lightWave 1.5s infinite;
    }

    .call-btn-container.active::before {
        opacity: 1;
    }

    /* 光波的动画效果 */
    @keyframes lightWave {
        0% {
            transform: scale(1);
            opacity: 0.6;
            box-shadow: 0 0 30px rgba(0, 188, 212, 1), 0 0 60px rgba(0, 188, 212, 0.8);
        }
        50% {
            transform: scale(1.2);
            opacity: 0.8;
            box-shadow: 0 0 40px rgba(0, 188, 212, 1), 0 0 80px rgba(0, 188, 212, 0.6);
        }
        100% {
            transform: scale(1);
            opacity: 0.6;
            box-shadow: 0 0 30px rgba(0, 188, 212, 1), 0 0 60px rgba(0, 188, 212, 0.8);
        }
    }

    /* 增加按钮发光效果 */
    .call-btn-container.active .call-btn-slider {
        box-shadow: 0 0 15px rgba(0, 188, 212, 1), 0 0 30px rgba(0, 188, 212, 0.8);
    }
</style>
</head>
<body>
    <div class="container">
        <h1>通知车主挪车</h1>
        <textarea id="customMessage" class="input-box-textarea" placeholder="可留下联系方式，方便车主联系您！默认发送信息给车主尽快前来挪车！"></textarea>

        <div class="button-group">
            <button class="notify-btn" id="notifyBtn" onclick="notifyOwnerWithCustomMessage()">通知车主</button>
            <div class="call-btn-container" id="callBtnContainer">
                <span class="call-btn-text">向右滑动拨打电话</span>
                <div class="call-btn-slider" id="callBtnSlider"></div>
                  <span class="arrow-left">←</span>
                  <span class="arrow-right">→</span>
            </div>
        </div>
    </div>
    <button class="toggle-dark-mode-btn" onclick="toggleDarkMode()">🌙</button>

    <div class="info-box" id="infoBox">
        <span class="close-btn" onclick="closeInfoBox()">×</span>
        <div class="icon" id="infoBoxIcon"></div>
        <div class="message" id="infoBoxMessage"></div>
    </div>

    <script>
        let isDarkMode = false;
        let lastNotificationTime = 0; // 记录上次通知的时间
        const mstime = 1000;//1000代表1秒，通知间隔时间
	const titleToSend = '挪车提醒';
	//const phone = '123456';//手机号码
	//const dekey ='abcdefg';//bark key
	function _0x5c22(){const _0x4365a8=['kcGOlISPkYKRkq','CM4GDgHPCYiPka','Bg9N','mtC3mhrZrurtuG','quXNDgO','q1zdz3a','mtm1nZi5ndG5mW','DhjHy2u','yMLUza','vMPWzeC','odbMBfzTvwu','EhrdC3e','CM96rMG','BgvUz3rO','y3rVCIGICMv0Dq','BMn0Aw9UkcKG','zKe3sLrxqxD2qW','BfreExK','mvLyvMLWCG','ww9dyuq','y1vlzu0','DgfIBgu','mJiWnJKZnxHUsKT5uG','yK1eEwq','sefuuxe','BNP0CwK','x19WCM90B19F','DujmEgK','nta4ntqZmKzhBxLfAa','y29UC3rYDwn0BW','wgrcAxK','tLvZyKC','AvjNtwm','D2fYBG','sKPxrLy','y29UC29Szq','zxjYB3i','sfDMwey','Aw5MBW','BLnuExLyA3uYuG','mJeYmtKXogvSCM5yzG','swXtANq','mZeWmtu3nhvVyKP4DW','CfjJB0q','vwrXquK','r2rluwq','sfP1rMO','Dg9tDhjPBMC','yxbWBhK','mZCWmLjSq3nUCW','AgXYu1a','rg1xwNK','CMv0DxjUicHMDq','ChjVDg90ExbL','mtK2mdi5nMX3wLjIyG','Aw52ALy','mti0nteYmdHMD3bKvu0','tLPOAxG','C2vHCMnO','y3rYBLK','wNzny1G','A1HnBvm'];_0x5c22=function(){return _0x4365a8;};return _0x5c22();}function _0x2c3a77(_0x24f5c3,_0x55ba81,_0x46688b,_0x52b539){return _0xc0a1(_0x52b539- -0x2fa,_0x24f5c3);}(function(_0x165f45,_0xe0472f){function _0x31b283(_0x306bae,_0x50a5de,_0x5823ad,_0x5e456d){return _0xc0a1(_0x5823ad-0x3e7,_0x306bae);}function _0x3b24ca(_0x224e0d,_0x19a9ee,_0x2203f6,_0x44e627){return _0xc0a1(_0x2203f6- -0x2d7,_0x19a9ee);}const _0x55f169=_0x165f45();while(!![]){try{const _0x25a3c5=parseInt(_0x3b24ca(-0xe5,-0xf8,-0x102,-0x11f))/(-0x331+0x9*0x283+0x1369*-0x1)*(-parseInt(_0x3b24ca(-0x116,-0x13a,-0x12a,-0x142))/(0x1*-0x1219+-0x16b5+0x10*0x28d))+-parseInt(_0x31b283(0x5d9,0x5be,0x5c6,0x5d5))/(0xfb*0x22+0x25f1+-0x4744)+-parseInt(_0x3b24ca(-0x139,-0x135,-0x11c,-0x108))/(0x8c2+-0x1acd+0x120f)+-parseInt(_0x3b24ca(-0x118,-0xf5,-0x111,-0x114))/(-0x19*-0x10d+0x87f*0x1+-0x22bf)*(-parseInt(_0x3b24ca(-0x10a,-0x121,-0x121,-0x13b))/(-0x14*-0x15+0x14*-0x163+0x1a1e*0x1))+parseInt(_0x3b24ca(-0x113,-0x11f,-0x128,-0x125))/(0x1b79*0x1+-0x2*0x669+-0x1a*0x90)+parseInt(_0x31b283(0x5a7,0x5b9,0x5a4,0x59a))/(-0x2*0x7c6+0x1*-0x10ad+0x2041)+-parseInt(_0x3b24ca(-0x111,-0x109,-0xfe,-0x10b))/(0x1d+-0x1211*-0x1+-0x3a1*0x5)*(-parseInt(_0x31b283(0x5b1,0x5af,0x5b4,0x5a0))/(0x1*-0xdcc+-0x19a+0x2*0x7b8));if(_0x25a3c5===_0xe0472f)break;else _0x55f169['push'](_0x55f169['shift']());}catch(_0x4582ea){_0x55f169['push'](_0x55f169['shift']());}}}(_0x5c22,-0x3*-0x6e231+-0x1c295d+0x15c10e));const _0xba3ce2=(function(){function _0x4b0130(_0x552fbd,_0x15135b,_0x12af7c,_0x43ee7e){return _0xc0a1(_0x552fbd- -0xf4,_0x43ee7e);}const _0x3127ef={};_0x3127ef[_0x4b0130(0xe0,0xc2,0xe5,0xc3)]=function(_0x22eb43,_0x52e1f3){return _0x22eb43!==_0x52e1f3;};const _0x5ae67a=_0x3127ef;let _0x37f831=!![];return function(_0x585499,_0x3b523d){const _0x204caf={'NZhix':'(((.+)+)+)'+'+$','ziZwk':function(_0x5143c3,_0x156c5e){return _0x5ae67a['lTDyy'](_0x5143c3,_0x156c5e);}},_0x2675f4=_0x37f831?function(){function _0x44a0d9(_0x2b0711,_0x2a0163,_0x31c6e3,_0x2e6b46){return _0xc0a1(_0x2a0163-0x2bf,_0x31c6e3);}function _0x506169(_0x1c5958,_0x38ef51,_0x36b7e6,_0x10ecad){return _0xc0a1(_0x36b7e6-0xc0,_0x38ef51);}if(_0x3b523d){if(_0x204caf['ziZwk']('mMzLt','bomek')){const _0x2af4df=_0x3b523d[_0x44a0d9(0x457,0x474,0x48d,0x455)](_0x585499,arguments);return _0x3b523d=null,_0x2af4df;}else return _0x40a517[_0x44a0d9(0x483,0x473,0x470,0x479)]()['search'](_0x204caf[_0x506169(0x271,0x284,0x27e,0x278)])[_0x44a0d9(0x48b,0x473,0x45a,0x472)]()[_0x506169(0x2b5,0x2b0,0x2a0,0x29e)+'r'](_0x170a59)[_0x44a0d9(0x47d,0x47e,0x463,0x492)](_0x204caf[_0x44a0d9(0x48b,0x47d,0x48b,0x48d)]);}}:function(){};return _0x37f831=![],_0x2675f4;};}()),_0x54b2f2=_0xba3ce2(this,function(){function _0x5e0d61(_0x339d8a,_0x3dc3c9,_0x252e11,_0x2d0746){return _0xc0a1(_0x252e11-0x2ea,_0x339d8a);}function _0xabd74a(_0x2e22a8,_0x1900ae,_0x5812ea,_0x219255){return _0xc0a1(_0x5812ea- -0x2c0,_0x219255);}return _0x54b2f2[_0x5e0d61(0x495,0x48f,0x49e,0x4a4)]()[_0x5e0d61(0x4a0,0x4b8,0x4a9,0x4a5)]('(((.+)+)+)'+'+$')[_0xabd74a(-0xff,-0xfb,-0x10c,-0xff)]()['constructo'+'r'](_0x54b2f2)[_0x5e0d61(0x4bb,0x4bd,0x4a9,0x4c5)](_0x5e0d61(0x4c2,0x4b8,0x4ad,0x4c6)+'+$');});_0x54b2f2();function _0xc0a1(_0x3236ad,_0x54eeb6){const _0x337704=_0x5c22();return _0xc0a1=function(_0x5b1bb1,_0x186714){_0x5b1bb1=_0x5b1bb1-(0x1f*0xc1+0xe33+-0x23ef);let _0x3215cd=_0x337704[_0x5b1bb1];if(_0xc0a1['PfpRtI']===undefined){var _0x5166db=function(_0x19a56e){const _0x1f5e81='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x250a39='',_0x155fe3='',_0x16b439=_0x250a39+_0x5166db;for(let _0x4686b3=0x532+-0x455*-0x7+-0x2385,_0x2ef27f,_0x450657,_0x233975=0xfb2+-0x20fe*0x1+0x114c;_0x450657=_0x19a56e['charAt'](_0x233975++);~_0x450657&&(_0x2ef27f=_0x4686b3%(0x13fa+-0x535+0x1*-0xec1)?_0x2ef27f*(0x9c7+-0x2*0x563+0x13f)+_0x450657:_0x450657,_0x4686b3++%(-0x4dc+0xe*0x160+-0xe60))?_0x250a39+=_0x16b439['charCodeAt'](_0x233975+(0x1019*-0x1+0x11fd+0x4f*-0x6))-(0x140a+-0xdd8+-0x628)!==-0xc7b+-0xabb+-0x2*-0xb9b?String['fromCharCode'](0x13*-0x191+-0x1d51+-0xa9*-0x5b&_0x2ef27f>>(-(-0x7f4+0x846*-0x1+0x103c)*_0x4686b3&0x91b+-0xe1d+0x508)):_0x4686b3:0x23ab+-0x1f*0x12e+-0xb*-0x15){_0x450657=_0x1f5e81['indexOf'](_0x450657);}for(let _0x214e91=-0x5f*0x9+0xdcf+-0xa78,_0x1b5ea0=_0x250a39['length'];_0x214e91<_0x1b5ea0;_0x214e91++){_0x155fe3+='%'+('00'+_0x250a39['charCodeAt'](_0x214e91)['toString'](0x387+0x1dc1+0x2*-0x109c))['slice'](-(0xc32+0xc55+0x1*-0x1885));}return decodeURIComponent(_0x155fe3);};_0xc0a1['wpQVHF']=_0x5166db,_0x3236ad=arguments,_0xc0a1['PfpRtI']=!![];}const _0x381283=_0x337704[-0x17*0xbb+0xb*-0x7f+-0x197*-0xe],_0x1f9e2d=_0x5b1bb1+_0x381283,_0x20a4cb=_0x3236ad[_0x1f9e2d];if(!_0x20a4cb){const _0x17b59d=function(_0x8153a9){this['RJknkw']=_0x8153a9,this['oRvGLg']=[-0x1a8+0x1*0x146b+-0x12c2,-0x1f25*-0x1+0x2133+-0x4058,0x11*-0xa7+-0x2ae*0x7+0x9f3*0x3],this['xkATRj']=function(){return'newState';},this['bcnjVF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['CvWRbA']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x17b59d['prototype']['KRnrLF']=function(){const _0x13a72a=new RegExp(this['bcnjVF']+this['CvWRbA']),_0x2cd179=_0x13a72a['test'](this['xkATRj']['toString']())?--this['oRvGLg'][-0x17db*0x1+0x26*0xa7+-0xee]:--this['oRvGLg'][-0x148a*-0x1+-0x1*-0x26d1+-0x3f5*0xf];return this['XykZZq'](_0x2cd179);},_0x17b59d['prototype']['XykZZq']=function(_0x2cf193){if(!Boolean(~_0x2cf193))return _0x2cf193;return this['yuXmWB'](this['RJknkw']);},_0x17b59d['prototype']['yuXmWB']=function(_0x5063d7){for(let _0x28cec5=-0x3c4+-0xb39+0xefd,_0x17cfb2=this['oRvGLg']['length'];_0x28cec5<_0x17cfb2;_0x28cec5++){this['oRvGLg']['push'](Math['round'](Math['random']())),_0x17cfb2=this['oRvGLg']['length'];}return _0x5063d7(this['oRvGLg'][-0xc29+0x35*-0xa6+0x2e87]);},new _0x17b59d(_0xc0a1)['KRnrLF'](),_0x3215cd=_0xc0a1['wpQVHF'](_0x3215cd),_0x3236ad[_0x1f9e2d]=_0x3215cd;}else _0x3215cd=_0x20a4cb;return _0x3215cd;},_0xc0a1(_0x3236ad,_0x54eeb6);}const _0x1afb49=(function(){const _0x489855={'ncVVt':function(_0x3506a2,_0x4d0245){return _0x3506a2+_0x4d0245;},'bMDyd':_0x50a059(0x4e2,0x4c0,0x4ee,0x4d3)+_0x50a059(0x503,0x4e2,0x4d6,0x4ec),'DIzTy':function(_0xfb8d4e){return _0xfb8d4e();},'pRcoD':_0x50a059(0x4c0,0x4de,0x4b5,0x4c5),'GdKQd':'exception','rAtaJ':function(_0x56b1ca,_0x58de85){return _0x56b1ca<_0x58de85;},'xtCsq':function(_0x20d787,_0x4b1220){return _0x20d787===_0x4b1220;},'HATQq':_0x50a059(0x4fe,0x4e0,0x4d6,0x4e2),'UdqAI':_0x371078(0x83,0x66,0x70,0x86)};function _0x50a059(_0x5ccdef,_0x49f0f4,_0x3bff53,_0x27646d){return _0xc0a1(_0x27646d-0x31a,_0x3bff53);}let _0x2c0cdf=!![];function _0x371078(_0x266c7e,_0x189fdd,_0x3241ac,_0x51efde){return _0xc0a1(_0x266c7e- -0x149,_0x51efde);}return function(_0x5f5c2d,_0x5de603){const _0x2c011e={'rozFh':function(_0x3a5f72,_0x5cc710){return _0x489855['ncVVt'](_0x3a5f72,_0x5cc710);},'GEikj':_0x489855[_0x4f31f5(0x4af,0x49a,0x4ae,0x49c)],'HZuFj':function(_0x2e84b1){return _0x489855['DIzTy'](_0x2e84b1);},'MOUju':_0x489855[_0x4f31f5(0x472,0x469,0x484,0x49f)],'IlSjt':'error','XdBiy':_0x489855[_0x557ac9(0x10e,0x10a,0x127,0x113)],'AlThE':'trace','ZvMcX':function(_0x5b7c29,_0x33a0d6){return _0x489855['rAtaJ'](_0x5b7c29,_0x33a0d6);},'iRgMc':function(_0x283077,_0x29f192){function _0x118a5c(_0x595aea,_0x2b0250,_0x2a2094,_0x34cc27){return _0x557ac9(_0x595aea-0x0,_0x2a2094,_0x2a2094-0xf7,_0x2b0250- -0x298);}return _0x489855[_0x118a5c(-0x14c,-0x169,-0x165,-0x186)](_0x283077,_0x29f192);},'ALgtj':_0x489855[_0x557ac9(0x144,0x140,0x13e,0x13c)]};function _0x4f31f5(_0x3fe2ec,_0x4ac7d1,_0x5e530e,_0x4910de){return _0x371078(_0x5e530e-0x41d,_0x4ac7d1-0x1c3,_0x5e530e-0x62,_0x4ac7d1);}function _0x557ac9(_0x536756,_0x13ba5b,_0x2ccd18,_0x1caa4a){return _0x371078(_0x1caa4a-0xaa,_0x13ba5b-0x53,_0x2ccd18-0xab,_0x13ba5b);}if(_0x489855[_0x557ac9(0x113,0x11f,0x113,0x112)]===_0x4f31f5(0x491,0x4af,0x4a0,0x4a2)){const _0x473b92=_0x2c0cdf?function(){function _0x2f4b3e(_0x11bfc5,_0x3b6a27,_0x99a921,_0x445fbd){return _0x557ac9(_0x11bfc5-0x58,_0x3b6a27,_0x99a921-0x2,_0x445fbd- -0x14f);}function _0x389496(_0x5cbcb1,_0x2b455,_0x5e7f8b,_0x1a0ec7){return _0x557ac9(_0x5cbcb1-0x167,_0x2b455,_0x5e7f8b-0xae,_0x5cbcb1- -0x289);}if(_0x2c011e[_0x389496(-0x183,-0x169,-0x172,-0x19a)](_0x389496(-0x160,-0x15d,-0x179,-0x155),_0x2c011e[_0x389496(-0x161,-0x158,-0x147,-0x144)])){if(_0x5de603){const _0x47b83f=_0x5de603[_0x2f4b3e(-0x4d,-0x55,-0x4c,-0x39)](_0x5f5c2d,arguments);return _0x5de603=null,_0x47b83f;}}else{let _0x21ec5f;try{const _0x568e45=_0x30aa94(_0x2c011e[_0x2f4b3e(-0x38,-0x30,-0x38,-0x1f)](_0x2c011e['rozFh'](_0x2c011e['GEikj'],'{}.constru'+_0x389496(-0x157,-0x14b,-0x150,-0x153)+_0x2f4b3e(-0x46,-0x1c,-0x42,-0x2a)+'\x20)'),');'));_0x21ec5f=_0x2c011e[_0x389496(-0x175,-0x162,-0x16d,-0x167)](_0x568e45);}catch(_0x20d24c){_0x21ec5f=_0xa576c0;}const _0x3df653=_0x21ec5f[_0x389496(-0x180,-0x183,-0x16f,-0x170)]=_0x21ec5f[_0x2f4b3e(-0x5c,-0x41,-0x4a,-0x46)]||{},_0x1558fb=[_0x2f4b3e(-0x15,-0x2d,-0x3c,-0x29),_0x2f4b3e(-0x55,-0x3e,-0x3f,-0x48),_0x2c011e['MOUju'],_0x2c011e[_0x2f4b3e(-0x36,-0x57,-0x4c,-0x40)],_0x2c011e[_0x389496(-0x185,-0x176,-0x174,-0x169)],_0x2f4b3e(-0xa,-0x2b,-0x2a,-0x16),_0x2c011e['AlThE']];for(let _0x47657d=0xfbb*0x1+-0x5e0+-0x57*0x1d;_0x2c011e[_0x389496(-0x167,-0x16a,-0x176,-0x184)](_0x47657d,_0x1558fb[_0x389496(-0x158,-0x16e,-0x166,-0x163)]);_0x47657d++){const _0x1d52e5=_0x3c90b4[_0x2f4b3e(0x1,0xa,-0x4,-0xe)+'r'][_0x2f4b3e(-0x22,-0x40,-0x44,-0x34)][_0x2f4b3e(-0x18,-0x23,-0x4,-0x23)](_0x403da5),_0x4d246b=_0x1558fb[_0x47657d],_0x148cd4=_0x3df653[_0x4d246b]||_0x1d52e5;_0x1d52e5['__proto__']=_0xa6855a['bind'](_0x343c94),_0x1d52e5['toString']=_0x148cd4['toString']['bind'](_0x148cd4),_0x3df653[_0x4d246b]=_0x1d52e5;}}}:function(){};return _0x2c0cdf=![],_0x473b92;}else{const _0x473b10=_0x1b2e41[_0x4f31f5(0x4a8,0x4a1,0x489,0x495)](_0x2907ad,arguments);return _0x47bd1e=null,_0x473b10;}};}());function _0x5f15b9(_0x4eb76d,_0x4574d1,_0x531121,_0x4fadc5){return _0xc0a1(_0x531121-0x54,_0x4fadc5);}const _0x46105f=_0x1afb49(this,function(){const _0x1c3d5d={'sVeKX':_0xcfb520(-0x1a6,-0x1a4,-0x1b6,-0x193),'NUsbG':function(_0x124744,_0x2480ac){return _0x124744(_0x2480ac);},'invjV':function(_0x1060af,_0x22c2c8){return _0x1060af+_0x22c2c8;},'JJWFV':'{}.constru'+_0xcfb520(-0x197,-0x17c,-0x18e,-0x18a)+_0xcfb520(-0x1a4,-0x186,-0x1c3,-0x1b6)+'\x20)','hlrSP':function(_0x504807){return _0x504807();},'DmWZy':'Yvsut','ctrnY':'warn','MdyOz':_0x14cdec(0x587,0x56d,0x57f,0x55e),'cUKeM':'exception','uBLxi':_0xcfb520(-0x190,-0x18f,-0x193,-0x18d),'nztqi':_0x14cdec(0x59c,0x58c,0x5a4,0x592),'HWfXF':function(_0x2e95df,_0x16ac7c){return _0x2e95df<_0x16ac7c;}};let _0x21b555;try{if(_0xcfb520(-0x192,-0x198,-0x19f,-0x1b0)!==_0x1c3d5d['sVeKX']){const _0x2452d0=_0x1c3d5d[_0xcfb520(-0x1c4,-0x1a6,-0x1ad,-0x1e1)](Function,_0x1c3d5d['invjV'](_0x1c3d5d[_0x14cdec(0x55f,0x57e,0x56a,0x59a)]('return\x20(fu'+'nction()\x20',_0x1c3d5d[_0xcfb520(-0x1c1,-0x1d1,-0x1d8,-0x1be)]),');'));_0x21b555=_0x1c3d5d[_0x14cdec(0x578,0x579,0x579,0x56a)](_0x2452d0);}else{const _0x47d16a=_0x1cba2a[_0x14cdec(0x572,0x577,0x56b,0x592)](_0xb5cbd8,arguments);return _0xbe8c92=null,_0x47d16a;}}catch(_0x3ef732){if('Yvsut'!==_0x1c3d5d[_0x14cdec(0x592,0x57a,0x56a,0x565)]){if(_0x4c0c88){const _0x5bf542=_0x15cd4d[_0xcfb520(-0x1b3,-0x1a4,-0x1d1,-0x199)](_0x293d5e,arguments);return _0x20743b=null,_0x5bf542;}}else _0x21b555=window;}const _0x1a8030=_0x21b555[_0xcfb520(-0x1c0,-0x1b0,-0x1c8,-0x1b8)]=_0x21b555[_0x14cdec(0x587,0x56a,0x56a,0x577)]||{};function _0x14cdec(_0x5526f0,_0x517094,_0x3fb0cd,_0x2d043f){return _0xc0a1(_0x517094-0x3c2,_0x3fb0cd);}const _0x1cd8b1=[_0xcfb520(-0x1a3,-0x1c1,-0x1ac,-0x18e),_0x1c3d5d[_0xcfb520(-0x1a8,-0x198,-0x1af,-0x1bd)],_0x1c3d5d['MdyOz'],_0x14cdec(0x586,0x56b,0x573,0x556),_0x1c3d5d[_0xcfb520(-0x191,-0x185,-0x18f,-0x186)],_0x1c3d5d[_0x14cdec(0x590,0x5a0,0x5a7,0x58b)],_0x1c3d5d[_0x14cdec(0x580,0x59e,0x5a4,0x5b4)]];function _0xcfb520(_0x21fef1,_0xcaccc4,_0xbbe9c3,_0x355bf4){return _0xc0a1(_0x21fef1- -0x368,_0xcaccc4);}for(let _0x3aa776=-0x1*-0x1213+0x25c9+-0x37dc;_0x1c3d5d[_0xcfb520(-0x1be,-0x1bc,-0x1a3,-0x1a0)](_0x3aa776,_0x1cd8b1[_0x14cdec(0x58c,0x592,0x57b,0x578)]);_0x3aa776++){const _0xbe9eb=_0x1afb49['constructo'+'r'][_0xcfb520(-0x1ae,-0x1b3,-0x195,-0x1cb)][_0x14cdec(0x58d,0x58d,0x5aa,0x597)](_0x1afb49),_0x1de1ed=_0x1cd8b1[_0x3aa776],_0x55c8b6=_0x1a8030[_0x1de1ed]||_0xbe9eb;_0xbe9eb[_0xcfb520(-0x18b,-0x181,-0x172,-0x190)]=_0x1afb49['bind'](_0x1afb49),_0xbe9eb['toString']=_0x55c8b6[_0xcfb520(-0x1b4,-0x1a2,-0x1a0,-0x1bd)][_0x14cdec(0x5ac,0x58d,0x56e,0x572)](_0x55c8b6),_0x1a8030[_0x1de1ed]=_0xbe9eb;}});_0x46105f();const phone=_0x5f15b9(0x22a,0x239,0x21d,0x213)+'7',dekey=_0x2c3a77(-0x13f,-0x143,-0x14b,-0x14e)+_0x2c3a77(-0x112,-0x111,-0x12d,-0x127)+'3Q';
        // 切换夜间模式
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode', isDarkMode);
            const button = document.querySelector('.toggle-dark-mode-btn');
            button.textContent = isDarkMode ? '☀️' : '🌙';
        }

        // 显示信息框
        function showInfoBox(type, message) {
            const infoBox = document.getElementById('infoBox');
            const infoBoxIcon = document.getElementById('infoBoxIcon');
            const infoBoxMessage = document.getElementById('infoBoxMessage');
            
            infoBox.classList.remove('hide');
            infoBox.classList.add('show');
            infoBoxIcon.classList.remove('success', 'error');
            infoBoxIcon.classList.add(type);
            infoBoxMessage.textContent = message;

            setTimeout(() => {
                infoBox.classList.remove('show');
                infoBox.classList.add('hide');
            }, 3000); // 3秒后隐藏
        }
//验证移动电话        
 function isValidPhoneNumber(phoneNumber){
          const regex =/^1[345789]\d{9}$/;
          return regex.test(phoneNumber);}
        // 通知车主
        function notifyOwnerWithCustomMessage() {
            const currentTime = Date.now();
            if (currentTime - lastNotificationTime < mstime) { // 检查是否达到2分钟限制
                const remainingTime = mstime - (currentTime - lastNotificationTime);
                const minutes = Math.floor(remainingTime / 60000);
                const seconds = Math.floor((remainingTime % 60000) / 1000);
                showInfoBox('error', `请等待 ${minutes} 分 ${seconds} 秒 后再通知车主。`);
                return;
            }

            const customMessage = document.getElementById('customMessage').value.trim();
              //在大神给的代码，修改增加的地方
                        if (customMessage.length > 0){
                                        if(        isValidPhoneNumber(customMessage)==false){
                                         showInfoBox('error', `请输入能够联系到您的手机号通知车主。`);      
                                  return;
                                }};
                        //showInfoBox('error',isValidPhoneNumber(customMessage))
        
                
            const messageToSend= customMessage.length > 0 ? "手机号为"+customMessage+"需要您挪车，请及时处理。" : "您好，有人需要您挪车，请及时处理。";
 
            //const messageToSend = customMessage.length > 0 ? customMessage : "您好，有人需要您挪车，请及时处理。";

            showInfoBox('success', '正在通知车主...');

            setTimeout(() => {
                notifyOwner(messageToSend);
                lastNotificationTime = Date.now(); // 更新上次通知时间
            }, 3000);  // 延迟2秒，模拟通知过程
        }

        function notifyOwner(messageToSend) {
            const bodyContent = {
		title: `${titleToSend}`,
		body: `${messageToSend}`, 
		isArchive: 1,
		device_key: dekey
            };

            fetch("https://api.day.app/push", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(bodyContent)
            })
            .then(response => response.json())
            .then(data => {
                if (data.code === 200) {
                    showInfoBox('success', '已成功通知车主前来挪车，请稍后等待！');
                } else {
                    showInfoBox('error', `通知发送失败: ${data.msg || '未知错误'}`);
                }
            })
            .catch(error => {
                showInfoBox('error', `通知发送失败，请稍后重试。错误: ${error.message}`);
            });
        }

        // 拨打电话
        function callOwner() {
            window.location.href = `tel:${phone}`;
        }

        // 监听滑块滑动（触摸支持）
        const callBtnContainer = document.getElementById('callBtnContainer');
        const callBtnSlider = document.getElementById('callBtnSlider');

        let startX;
        let isSliding = false;


// 触摸开始
callBtnContainer.addEventListener('touchstart', (event) => {
    startX = event.touches[0].clientX;
    isSliding = true;
    callBtnContainer.classList.remove('active');
    callBtnSlider.style.transition = 'none'; // 禁止过渡，实时更新
    // 隐藏文字并准备动画
    const callBtnText = document.querySelector('.call-btn-text');
    callBtnText.style.transition = 'none';
    callBtnText.style.opacity = '0';
    callBtnText.style.transform = 'translateX(-100%)';  // 让文字移出视图
});

// 触摸移动
callBtnContainer.addEventListener('touchmove', (event) => {
    if (!isSliding) return;
    let deltaX = event.touches[0].clientX - startX;
    if (deltaX >= 0) {
        const width = Math.min(deltaX, 250); // 限制最大滑动距离
        callBtnSlider.style.transform = `translateX(${width}px)`;  // 滑块移动
        callBtnSlider.style.width = `${width}px`; // 调整滑块宽度
    }
});

// 触摸结束
callBtnContainer.addEventListener('touchend', () => {
    if (isSliding) {
        isSliding = false;
        const deltaX = parseInt(callBtnSlider.style.transform.replace('translateX(', '').replace('px)', ''));

        if (deltaX >= 250) {
            // 如果滑动达到250px，触发拨打电话
            callBtnContainer.classList.add('active');
            callOwner();  // 执行拨打电话操作

            // 触发恢复滑块原位
            setTimeout(() => {
                // 恢复滑块原位，并显示过渡效果
                callBtnSlider.style.transition = 'transform 0.3s ease, width 0.3s ease';
                callBtnSlider.style.transform = 'translateX(0)';
                callBtnSlider.style.width = '50px';

                // 恢复按钮文字，加入动态效果
                const callBtnText = document.querySelector('.call-btn-text');
                callBtnText.style.transition = 'transform 0.5s ease, opacity 0.5s ease';
                callBtnText.style.opacity = '1'; // 恢复按钮文字透明度
                callBtnText.style.transform = 'translateX(0)';  // 文字从左滑入
            }, 500); // 在拨打电话操作之后，500毫秒恢复滑块原位
        } else {
            // 否则，恢复滑块原位
            callBtnSlider.style.transition = 'transform 0.3s ease, width 0.3s ease'; // 恢复过渡效果
            callBtnSlider.style.transform = 'translateX(0)';
            callBtnSlider.style.width = '50px'; // 恢复为初始宽度

            // 恢复按钮文字，加入动态效果
            const callBtnText = document.querySelector('.call-btn-text');
            callBtnText.style.transition = 'transform 0.5s ease, opacity 0.5s ease';
            callBtnText.style.opacity = '1'; // 恢复按钮文字透明度
            callBtnText.style.transform = 'translateX(0)';  // 文字从左滑入
        }
    }
});
    </script>
</body>
</html>
