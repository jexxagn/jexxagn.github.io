<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>通知车主挪车</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body, html {
            font-family: 'Arial', sans-serif;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 15px;
            transition: background-color 0.3s, color 0.3s;
            overflow: hidden; /* 禁止网页拖动 */
        }

        /* 白天模式和夜间模式 */
        body.light-mode {
            background-color: #f0f4f8;
            color: #333;
        }

        body.dark-mode {
            background-color: #181818;
            color: #f0f0f0;
        }

        /* 容器 */
        .container {
            background-color: #ffffff;
            border-radius: 16px;
            padding: 35px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            max-width: 700px;
            width: 100%;
            text-align: center;
            box-sizing: border-box;
            min-width: 320px;
            transition: background-color 0.3s, box-shadow 0.3s;
        }

        /* 夜间模式下容器 */
        .dark-mode .container {
            background-color: #333;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        /* 动态标题 */
        h1 {
            font-size: 36px;
            margin-bottom: 20px;
            font-weight: bold;
            animation: titleAnimation 3s ease-in-out infinite;
        }

        @keyframes titleAnimation {
            0% { transform: translateY(0); color: #28a745; }
            50% { transform: translateY(-10px); color: #007bff; }
            100% { transform: translateY(0); color: #28a745; }
        }

        /* 输入框 */
        .input-box-textarea {
            width: 100%;
            padding: 18px;
            font-size: 12px;
            line-height:1.5em;
            border-radius: 10px;
            border: 1px solid #ccc;
            background: #f9f9f9;
            color: #333;
            resize: none;
            margin-bottom: 20px;
            box-sizing: border-box;
            transition: all 0.3s;
            outline: none;
            overflow: hidden;
        }

        /* 夜间模式下输入框 */
        body.dark-mode .input-box-textarea {
            background: #444;
            color: #f0f0f0;
            border: 1px solid #666;
        }

        .input-box-textarea:focus {
            border-color: #5d9bff;
            background-color: #fff;
            box-shadow: 0 0 8px rgba(93, 155, 255, 0.5);
        }

        .input-box-textarea.dark-mode:focus {
            background-color: #555;
            border-color: #66ccff;
            box-shadow: 0 0 8px rgba(102, 204, 255, 0.5);
        }

        .button-group {
            display: flex;
            flex-direction: column;
            gap: 18px;
            margin-top: 30px;
        }

        .button-group button {
            padding: 20px;
            font-size: 22px;
            font-weight: bold;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.5s, transform 0.3s, box-shadow 0.5s, filter 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 5px;
            position: relative;
            overflow: hidden;
        }

        /* 通知车主按钮背景修改为浅蓝色渐变 */
        .notify-btn {
            background: linear-gradient(90deg, #66ccff 50%, #3399ff 50%);
            background-size: 200% 100%;
            transition: background-color 0.3s;
        }

        .notify-btn:hover {
            background: linear-gradient(45deg, #3399ff, #66ccff);
            transform: translateY(-4px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.2);
            filter: brightness(1.2);
        }

        /* 夜间模式按钮 */
        .dark-mode .notify-btn {
            background: linear-gradient(90deg, #66ccff 50%, #3399ff 50%);
        }

        /* 拨打电话滑动按钮 */
        .call-btn-container {
            width: 100%;
            height: 50px;
            background-color: #ddd;
            border-radius: 25px;
            position: relative;
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: space-between;
            overflow: hidden;
        }

        .call-btn-text {
            position: absolute;
            left: 15px;
            font-size: 16px;
            color: #555;
            transition: opacity 0.3s;
            pointer-events: none;
            text-align: center;
            width: 100%;
        }

        .call-btn-slider {
            width: 50px;
            height: 100%;
            background: linear-gradient(45deg, #17a2b8, #00bcd4);
            border-radius: 25px;
            position: absolute;
            left: 0;
            cursor: pointer;
            transition: transform 0.3s ease, width 0.3s ease;
        }

        .call-btn-container.active .call-btn-slider {
            transform: translateX(100%);
            width: 100%;
        }

        .call-btn-container.active .call-btn-text {
            opacity: 0;
        }

        /* 信息框 */
        .info-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #ffffff;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            z-index: 1000;
            display: none;
            width: 300px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        /* 夜间模式下信息框 */
        .dark-mode .info-box {
            background-color: #333;
            color: #f0f0f0;
        }

        .info-box.show {
            display: block;
            opacity: 1;
            animation: fadeIn 1s forwards;
        }

        .info-box .icon {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .info-box .icon.success::before {
            content: '✓';
            color: #28a745;
        }

        .info-box .icon.error::before {
            content: '✖';
            color: #dc3545;
        }

        .info-box .message {
            font-size: 20px;
            color: #333;
        }

        /* 夜间模式下提示信息 */
        .dark-mode .info-box .message {
            color: #f0f0f0;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 20px;
            cursor: pointer;
            color: #666;
        }

        /* 夜间模式下关闭按钮 */
        .dark-mode .close-btn {
            color: #ccc;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        /* 夜间模式切换按钮 */
        .toggle-dark-mode-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 30px;
            cursor: pointer;
            background: transparent;
            border: none;
            color: #f0f0f0; /* 更明显的颜色 */
            transition: color 0.3s;
        }

        .dark-mode .toggle-dark-mode-btn {
            color: #f0f0f0;
        }

    </style>
    <style>
    .call-btn-container {
    position: relative;
    width: 250px;
    height: 50px;
    background-color: #333;
    border-radius: 25px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.call-btn-slider {
    position: absolute;
    top: 0;
    left: 0;
    width: 50px;
    height: 100%;
    background-color: gray;
    border-radius: 25px;
    transition: transform 0.3s ease, width 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.arrows-container {
    display: flex;
    justify-content: space-between;
    width: 50px;
}

.arrow-left, .arrow-right {
    font-size: 24px;
    color: white;
    opacity: 0;
    animation: slide-arrows 1s infinite alternate;
}

/* 动画效果：箭头左右移动 */
@keyframes slide-arrows {
    0% {
        transform: translateX(-10px);
        opacity: 0.5;
    }
    100% {
        transform: translateX(10px);
        opacity: 1;
    }
}

/* 当按钮处于活动状态时，改变箭头显示 */
.call-btn-container.active .arrow-left {
    animation: none; /* 停止动画 */
    opacity: 0;
}

.call-btn-container.active .arrow-right {
    animation: none; /* 停止动画 */
    opacity: 0;
}

.call-btn-container.active .call-btn-text {
    opacity: 1;
    transform: translateX(0);
}

    /* 拨打电话滑动按钮 */
    .call-btn-container {
        width: 100%;
        height: 50px;
        background-color: #ddd;
        border-radius: 25px;
        position: relative;
        box-sizing: border-box;
        display: flex;
        align-items: center;
        justify-content: space-between;
        overflow: hidden;
        transition: background-color 0.3s ease;
    }

    .call-btn-text {
        position: absolute;
        left: 15px;
        font-size: 16px;
        color: #555;
        transition: opacity 0.3s;
        pointer-events: none;
        text-align: center;
        width: 100%;
    }

    .call-btn-slider {
        width: 50px;
        height: 100%;
        background: linear-gradient(45deg, #17a2b8, #00bcd4);
        border-radius: 25px;
        position: absolute;
        left: 0;
        cursor: pointer;
        transition: transform 0.3s ease, width 0.3s ease;
    }

    .call-btn-container.active .call-btn-slider {
        transform: translateX(100%);
        width: 100%;
    }

    .call-btn-container.active .call-btn-text {
        opacity: 0;
    }

    /* 明显的光波发光效果 */
    .call-btn-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle, rgba(0, 188, 212, 0.6) 10%, rgba(0, 188, 212, 0) 50%);
        border-radius: 25px;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s ease;
        animation: lightWave 1.5s infinite;
    }

    .call-btn-container.active::before {
        opacity: 1;
    }

    /* 光波的动画效果 */
    @keyframes lightWave {
        0% {
            transform: scale(1);
            opacity: 0.6;
            box-shadow: 0 0 30px rgba(0, 188, 212, 1), 0 0 60px rgba(0, 188, 212, 0.8);
        }
        50% {
            transform: scale(1.2);
            opacity: 0.8;
            box-shadow: 0 0 40px rgba(0, 188, 212, 1), 0 0 80px rgba(0, 188, 212, 0.6);
        }
        100% {
            transform: scale(1);
            opacity: 0.6;
            box-shadow: 0 0 30px rgba(0, 188, 212, 1), 0 0 60px rgba(0, 188, 212, 0.8);
        }
    }

    /* 增加按钮发光效果 */
    .call-btn-container.active .call-btn-slider {
        box-shadow: 0 0 15px rgba(0, 188, 212, 1), 0 0 30px rgba(0, 188, 212, 0.8);
    }
</style>
</head>
<body>
    <div class="container">
        <h1>通知车主挪车</h1>
        <textarea id="customMessage" class="input-box-textarea" placeholder="可留下联系方式，方便车主联系您！默认发送信息给车主尽快前来挪车！"></textarea>

        <div class="button-group">
            <button class="notify-btn" id="notifyBtn" onclick="notifyOwnerWithCustomMessage()">通知车主</button>
            <div class="call-btn-container" id="callBtnContainer">
                <span class="call-btn-text">向右滑动拨打电话</span>
                <div class="call-btn-slider" id="callBtnSlider"></div>
                  <span class="arrow-left">←</span>
                  <span class="arrow-right">→</span>
            </div>
        </div>
    </div>
    <button class="toggle-dark-mode-btn" onclick="toggleDarkMode()">🌙</button>

    <div class="info-box" id="infoBox">
        <span class="close-btn" onclick="closeInfoBox()">×</span>
        <div class="icon" id="infoBoxIcon"></div>
        <div class="message" id="infoBoxMessage"></div>
    </div>

    <script>
        let isDarkMode = false;
        let lastNotificationTime = 0; // 记录上次通知的时间
        const mstime = 120000;//1000代表1秒，通知间隔时间
        function _0x52ba39(_0x25944b,_0x1199dc,_0x4f4655,_0x6ca9dc){return _0x381b(_0x25944b- -0x266,_0x4f4655);}(function(_0x7585c9,_0x241bd0){function _0x3a08e4(_0x59dc21,_0x57906c,_0x1b9bcc,_0x443091){return _0x381b(_0x59dc21-0xfc,_0x1b9bcc);}const _0x2a2a64=_0x7585c9();function _0x5435b0(_0x39c870,_0xd1db3b,_0x380fd3,_0x132845){return _0x381b(_0x39c870-0x14a,_0x132845);}while(!![]){try{const _0x360201=-parseInt(_0x3a08e4(0x200,0x20e,0x203,0x1ee))/(-0x14e*0x3+-0x1*-0x1542+-0x17*0xc1)*(-parseInt(_0x5435b0(0x22b,0x20e,0x214,0x22d))/(0x90e*0x4+0x2693+0x7*-0xaaf))+-parseInt(_0x5435b0(0x23d,0x236,0x25a,0x22a))/(-0x24*-0x51+0x1336*-0x2+0x1*0x1b0b)*(parseInt(_0x3a08e4(0x1ea,0x1d7,0x1c9,0x1cc))/(0x1580+-0x15b4+0x38))+parseInt(_0x5435b0(0x26d,0x28f,0x268,0x251))/(0x1*0x19a9+-0xa*-0x3c1+-0x3f2e)+-parseInt(_0x3a08e4(0x1f6,0x219,0x1e8,0x1e5))/(-0x799+-0x22c9+0xec*0x2e)*(parseInt(_0x5435b0(0x252,0x274,0x26d,0x264))/(0x2651+-0x1*0x1cb7+-0x81*0x13))+-parseInt(_0x3a08e4(0x207,0x223,0x1fa,0x1fe))/(0x137d*0x1+0xb6*-0x35+0x613*0x3)*(parseInt(_0x3a08e4(0x20b,0x226,0x216,0x230))/(0x19*-0x151+0x4f1*-0x2+0x1*0x2ad4))+-parseInt(_0x3a08e4(0x1e5,0x1ce,0x20a,0x1e4))/(0x2*0x6c4+0x602*-0x5+-0x1*-0x108c)+parseInt(_0x5435b0(0x273,0x276,0x272,0x26c))/(-0x242e+-0x1fd5+0x440e);if(_0x360201===_0x241bd0)break;else _0x2a2a64['push'](_0x2a2a64['shift']());}catch(_0x33fd18){_0x2a2a64['push'](_0x2a2a64['shift']());}}}(_0x1693,0x95*0x15a9+-0x19*-0x2777+-0x8df7e));const _0x254002=(function(){const _0x418181={'mwxTi':_0x1008e0(0x4d0,0x4ee,0x4e8,0x4f5),'arghq':function(_0x5641db,_0x4e6868){return _0x5641db(_0x4e6868);},'yYLrD':function(_0x5a6196,_0x9d41ed){return _0x5a6196+_0x9d41ed;},'ogFrz':'return\x20(fu'+_0x1008e0(0x512,0x4f0,0x4d7,0x4f3),'mzLpM':_0x56a4bb(0x1a,0x3b,0x21,-0x7)+_0x56a4bb(0x12,-0x11,0xa,0x37)+'rn\x20this\x22)('+'\x20)','sWFjB':function(_0x33a157,_0x1998c0){return _0x33a157!==_0x1998c0;},'olvUI':_0x1008e0(0x4c8,0x4e1,0x4dd,0x4d1),'jeviM':_0x1008e0(0x4fe,0x4e5,0x4e0,0x4c2)};function _0x56a4bb(_0x32b430,_0xfbf44c,_0x27ed26,_0x5a56e4){return _0x381b(_0x32b430- -0xd2,_0x27ed26);}let _0x3a3573=!![];function _0x1008e0(_0x1e2a04,_0xec723f,_0x82a8c6,_0x376f47){return _0x381b(_0xec723f-0x3c8,_0x1e2a04);}return function(_0x1e27a7,_0x40cb8e){const _0x580192={'admSm':function(_0x3a178d,_0x4c478c){function _0x552c1c(_0x5a6313,_0x3c4b4a,_0x34d067,_0x3f3721){return _0x381b(_0x34d067- -0x3ac,_0x3f3721);}return _0x418181[_0x552c1c(-0x2ad,-0x289,-0x29f,-0x2a2)](_0x3a178d,_0x4c478c);},'jUlrD':function(_0x2e5c97,_0x3d7a7c){function _0x93abcb(_0x54b588,_0x3f36af,_0x407e7c,_0x5484df){return _0x381b(_0x54b588-0x86,_0x407e7c);}return _0x418181[_0x93abcb(0x1ad,0x19b,0x193,0x1c4)](_0x2e5c97,_0x3d7a7c);},'hGdnA':_0x418181[_0x1b99d1(0x311,0x2f7,0x320,0x2f1)],'aXzwd':_0x418181[_0x1b99d1(0x338,0x359,0x32d,0x334)]};function _0x1b99d1(_0x3f6046,_0x261619,_0x1a2097,_0x5c6699){return _0x56a4bb(_0x3f6046-0x300,_0x261619-0xd0,_0x5c6699,_0x5c6699-0x1be);}function _0x4d89fe(_0x24045e,_0x467904,_0x3621b6,_0x557f65){return _0x56a4bb(_0x3621b6-0x274,_0x467904-0x110,_0x467904,_0x557f65-0x150);}if(_0x418181[_0x4d89fe(0x287,0x288,0x296,0x29e)](_0x418181[_0x1b99d1(0x348,0x363,0x338,0x35c)],_0x418181[_0x1b99d1(0x342,0x361,0x33a,0x322)])){const _0x4a4be4=_0x3a3573?function(){function _0x32a2af(_0x31324b,_0xab8831,_0xf52965,_0x20f0c4){return _0x4d89fe(_0x31324b-0x12b,_0x20f0c4,_0x31324b- -0x30e,_0x20f0c4-0xe);}function _0xe35300(_0x4d9653,_0x3af37f,_0x635e2c,_0x375d28){return _0x4d89fe(_0x4d9653-0x12e,_0x4d9653,_0x375d28- -0x529,_0x375d28-0x72);}if(_0x40cb8e){if('mTMFW'!==_0x418181[_0xe35300(-0x293,-0x26b,-0x286,-0x288)]){const _0x272751=_0xd83acc[_0xe35300(-0x266,-0x278,-0x26c,-0x268)+'r']['prototype'][_0x32a2af(-0x6c,-0x75,-0x60,-0x55)](_0x10aa95),_0x536a54=_0x51d2ec[_0x4b9acf],_0x504726=_0x1e8ecd[_0x536a54]||_0x272751;_0x272751[_0x32a2af(-0x81,-0x5c,-0x97,-0x7f)]=_0x3f5c2c['bind'](_0x50f367),_0x272751[_0x32a2af(-0x8c,-0x70,-0x6d,-0x8a)]=_0x504726[_0xe35300(-0x2b5,-0x2c9,-0x2b0,-0x2a7)][_0x32a2af(-0x6c,-0x84,-0x47,-0x81)](_0x504726),_0x41b2e1[_0x536a54]=_0x272751;}else{const _0x4cbeaf=_0x40cb8e[_0x32a2af(-0x4a,-0x44,-0x46,-0x50)](_0x1e27a7,arguments);return _0x40cb8e=null,_0x4cbeaf;}}}:function(){};return _0x3a3573=![],_0x4a4be4;}else _0x36f3be=_0x580192[_0x1b99d1(0x349,0x34a,0x32d,0x344)](_0xc51b6b,_0x580192[_0x4d89fe(0x28e,0x297,0x28f,0x2ac)](_0x580192[_0x1b99d1(0x337,0x353,0x352,0x317)]+_0x580192[_0x4d89fe(0x294,0x2d2,0x2b0,0x2c9)],');'))();};}()),_0x101d06=_0x254002(this,function(){const _0x107b1={};_0x107b1[_0x5016fc(0x35a,0x38c,0x368,0x38c)]='(((.+)+)+)'+'+$';function _0x51fd89(_0x506361,_0x418c9b,_0x49dad8,_0x122d9c){return _0x381b(_0x506361- -0x136,_0x49dad8);}function _0x5016fc(_0x2da298,_0x4c89fb,_0x2a8016,_0xe8e814){return _0x381b(_0x2a8016-0x244,_0xe8e814);}const _0x367374=_0x107b1;return _0x101d06[_0x5016fc(0x31b,0x312,0x324,0x311)]()[_0x5016fc(0x360,0x356,0x340,0x34f)](_0x51fd89(-0x1a,-0x4,-0x10,-0x33)+'+$')[_0x51fd89(-0x56,-0x4f,-0x5e,-0x3d)]()[_0x51fd89(-0x17,-0x24,-0x1c,-0xc)+'r'](_0x101d06)[_0x51fd89(-0x3a,-0x3a,-0x36,-0x17)](_0x367374['NsDDe']);});_0x101d06();const _0x2fa97c=(function(){const _0x5d535d={};_0x5d535d[_0xf6567e(-0x4c,-0x68,-0x5f,-0x49)]=function(_0x3f6ae9,_0x4aa933){return _0x3f6ae9!==_0x4aa933;};function _0xf6567e(_0x464500,_0x2e60f5,_0x497de4,_0x1aa41e){return _0x381b(_0x497de4- -0x171,_0x1aa41e);}function _0x5a79bf(_0x46ea7b,_0x23c459,_0x4e6744,_0x21d8e1){return _0x381b(_0x46ea7b- -0x3cd,_0x23c459);}_0x5d535d[_0xf6567e(-0xaf,-0x74,-0x8c,-0x95)]='HvBRE',_0x5d535d[_0x5a79bf(-0x2af,-0x2b8,-0x28e,-0x29e)]=function(_0x1ed572,_0x1867dc){return _0x1ed572!==_0x1867dc;},_0x5d535d[_0xf6567e(-0x70,-0x42,-0x60,-0x73)]='mEuPW',_0x5d535d[_0xf6567e(-0x7c,-0x9e,-0x7f,-0xa2)]=_0x5a79bf(-0x2c1,-0x2a0,-0x2c9,-0x2b2);const _0x2ae1a9=_0x5d535d;let _0x5454f9=!![];return function(_0x252bd8,_0x1042c7){function _0x230463(_0x5edcbe,_0x57da34,_0x4447b9,_0x3c3bb2){return _0x5a79bf(_0x3c3bb2-0x1c1,_0x5edcbe,_0x4447b9-0x43,_0x3c3bb2-0xce);}function _0x4d64ca(_0x4f4fab,_0x2bf2af,_0x5df79b,_0x450ab9){return _0x5a79bf(_0x5df79b-0x325,_0x2bf2af,_0x5df79b-0x1eb,_0x450ab9-0x197);}if(_0x2ae1a9['iyLEW'](_0x2ae1a9[_0x230463(-0x116,-0xff,-0xe3,-0xfb)],_0x2ae1a9[_0x4d64ca(0x5c,0x25,0x4a,0x50)])){const _0x49775b=_0x5454f9?function(){function _0x1206eb(_0x16c1e7,_0x5854eb,_0x15e4b6,_0x3b342f){return _0x4d64ca(_0x16c1e7-0x99,_0x5854eb,_0x16c1e7- -0xfd,_0x3b342f-0x11f);}function _0x39194e(_0x2cea43,_0x348987,_0x1bc7be,_0x4acd89){return _0x4d64ca(_0x2cea43-0x4c,_0x1bc7be,_0x2cea43- -0x1d6,_0x4acd89-0x9a);}if(_0x2ae1a9['PCopu'](_0x2ae1a9[_0x39194e(-0x199,-0x1a2,-0x1aa,-0x189)],_0x2ae1a9['sYIai'])){if(_0x5c144a){const _0x14b709=_0x1e0caa[_0x39194e(-0x15c,-0x13e,-0x180,-0x15b)](_0x2cfe11,arguments);return _0x490889=null,_0x14b709;}}else{if(_0x1042c7){const _0x26707c=_0x1042c7[_0x39194e(-0x15c,-0x165,-0x15b,-0x17a)](_0x252bd8,arguments);return _0x1042c7=null,_0x26707c;}}}:function(){};return _0x5454f9=![],_0x49775b;}else _0x1e01e3=_0x323cf3;};}()),_0x49689b=_0x2fa97c(this,function(){function _0x42c783(_0x125065,_0x267999,_0x2e1243,_0x1fa9bc){return _0x381b(_0x125065- -0x30,_0x1fa9bc);}const _0x52683a={'rwOCn':function(_0xaebbcf,_0x431cec){return _0xaebbcf===_0x431cec;},'rIbIO':_0xa363dc(-0x2d3,-0x2bb,-0x2c5,-0x2be),'ZRdZX':function(_0x20e019,_0x18fbae){return _0x20e019(_0x18fbae);},'ANJGa':function(_0x39fb14,_0x38a8b5){return _0x39fb14+_0x38a8b5;},'SNAci':function(_0x5beff9){return _0x5beff9();},'IGbwq':'warn','kkolR':_0xa363dc(-0x2ac,-0x2cb,-0x2a6,-0x2cd),'FziTv':_0x42c783(0xf0,0xef,0xf8,0xe6),'IbQEe':_0xa363dc(-0x2ae,-0x2c8,-0x2c2,-0x2b9),'czvjN':_0x42c783(0xcb,0xe7,0xcb,0xd7),'ajkKb':_0xa363dc(-0x2e5,-0x2c3,-0x2e3,-0x2e4),'YceXI':function(_0x475543,_0x4935d0){return _0x475543<_0x4935d0;},'TXkjh':_0x42c783(0xd1,0xd9,0xce,0xc0)},_0x2b2ff7=function(){function _0x269e53(_0x2a77a8,_0xc3a2a8,_0x1c9be0,_0x41ce51){return _0x42c783(_0xc3a2a8-0x147,_0xc3a2a8-0x115,_0x1c9be0-0x18a,_0x1c9be0);}function _0x228534(_0x35c78c,_0x2e14b6,_0x506a47,_0x568c9c){return _0xa363dc(_0x35c78c-0x1ea,_0x2e14b6-0x2e1,_0x506a47-0x46,_0x506a47);}let _0x267168;try{if(_0x52683a['rwOCn'](_0x52683a['rIbIO'],_0x52683a['rIbIO']))_0x267168=_0x52683a[_0x269e53(0x20e,0x21d,0x20f,0x218)](Function,_0x52683a[_0x269e53(0x220,0x219,0x234,0x209)](_0x52683a[_0x228534(0x33,0x23,0x20,0xa)]('return\x20(fu'+_0x228534(0x50,0x49,0x60,0x52),_0x228534(0x32,0xd,0x6,0x1a)+_0x228534(-0x3,0x5,0x12,-0x12)+_0x228534(-0x2,0x9,0x19,0x12)+'\x20)'),');'))();else{const _0x209040=_0x23a7a7[_0x228534(0x65,0x43,0x4a,0x21)](_0x349775,arguments);return _0x721af8=null,_0x209040;}}catch(_0x5b7f8a){_0x267168=window;}return _0x267168;};function _0xa363dc(_0x341a6c,_0x1e7f90,_0x560784,_0x48efb7){return _0x381b(_0x1e7f90- -0x3c0,_0x48efb7);}const _0x334a28=_0x52683a[_0x42c783(0xd3,0xd9,0xdf,0xeb)](_0x2b2ff7),_0x123a44=_0x334a28['console']=_0x334a28[_0x42c783(0xc7,0xb1,0xaa,0xb0)]||{},_0x55661e=[_0xa363dc(-0x2fe,-0x2de,-0x2d0,-0x2d2),_0x52683a[_0x42c783(0xd7,0xd8,0xd0,0xf3)],_0x52683a['kkolR'],_0x52683a[_0x42c783(0xe6,0xda,0x103,0xd3)],_0x52683a[_0x42c783(0xb7,0xd9,0x98,0x98)],_0x52683a[_0x42c783(0xf5,0xdf,0xd6,0xd1)],_0x52683a[_0xa363dc(-0x2e0,-0x2cf,-0x2c5,-0x2c9)]];for(let _0x3f2e02=-0xd4e+-0xc1f+0x196d;_0x52683a[_0xa363dc(-0x2ca,-0x2a8,-0x2bc,-0x2c3)](_0x3f2e02,_0x55661e[_0x42c783(0xe5,0xc8,0xe0,0xfe)]);_0x3f2e02++){if(_0x52683a[_0x42c783(0xc6,0xb9,0xdd,0xe8)]===_0xa363dc(-0x2c4,-0x29f,-0x2b5,-0x287)){const _0x3f5338=_0x465202[_0x42c783(0xf2,0xfb,0x113,0xdd)](_0x142ba7,arguments);return _0x3cfc3e=null,_0x3f5338;}else{const _0x5bbd07=_0x2fa97c[_0xa363dc(-0x2a2,-0x2a1,-0x2a9,-0x2bc)+'r'][_0x42c783(0xe0,0xd3,0xc8,0xe7)][_0xa363dc(-0x2d9,-0x2c0,-0x2dd,-0x2bb)](_0x2fa97c),_0x1a3521=_0x55661e[_0x3f2e02],_0x59ef10=_0x123a44[_0x1a3521]||_0x5bbd07;_0x5bbd07[_0xa363dc(-0x2eb,-0x2d5,-0x2d1,-0x2d4)]=_0x2fa97c[_0xa363dc(-0x2d3,-0x2c0,-0x2ab,-0x2c0)](_0x2fa97c),_0x5bbd07[_0x42c783(0xb0,0xa4,0xbc,0xa6)]=_0x59ef10[_0xa363dc(-0x2ef,-0x2e0,-0x2dc,-0x2d5)][_0x42c783(0xd0,0xea,0xe1,0xd6)](_0x59ef10),_0x123a44[_0x1a3521]=_0x5bbd07;}}});_0x49689b();function _0x381b(_0x39c1b7,_0x54701d){const _0x2a488c=_0x1693();return _0x381b=function(_0x5800fa,_0x53e1c0){_0x5800fa=_0x5800fa-(-0x1940+-0x1*-0x25b4+-0x9c*0x13);let _0x23db4b=_0x2a488c[_0x5800fa];if(_0x381b['yVUrNH']===undefined){var _0x36810b=function(_0x536981){const _0x3d4fc0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x27d9d5='',_0x327f45='',_0x4fd9d8=_0x27d9d5+_0x36810b;for(let _0x3848ef=-0x19df+-0x88d+0x226c,_0x4d6cdb,_0x23bfdb,_0x5384ae=-0xa67*-0x1+-0x1258+-0x1*-0x7f1;_0x23bfdb=_0x536981['charAt'](_0x5384ae++);~_0x23bfdb&&(_0x4d6cdb=_0x3848ef%(-0x115+-0x1bea+-0x1*-0x1d03)?_0x4d6cdb*(-0x16df+0x20e*-0x5+0x2165)+_0x23bfdb:_0x23bfdb,_0x3848ef++%(0x13*-0x61+-0xe*0x1fe+-0xd1*-0x2b))?_0x27d9d5+=_0x4fd9d8['charCodeAt'](_0x5384ae+(-0x1e1b+0xd5a*0x2+0x371))-(-0xd67+0x5*-0x2e4+-0x25*-0xc1)!==-0x2543*-0x1+-0x9dc+-0x1b67?String['fromCharCode'](-0x1*-0x87c+0x2453*-0x1+0x2*0xe6b&_0x4d6cdb>>(-(0x151b*0x1+-0x2*-0xcc7+0xf8d*-0x3)*_0x3848ef&0x4*0x61b+-0x1b11+0x2ab)):_0x3848ef:0x1*0x6fa+0x17ae+0x147*-0x18){_0x23bfdb=_0x3d4fc0['indexOf'](_0x23bfdb);}for(let _0x9f1b54=-0x613+-0xb33+0x1146,_0x2efdd8=_0x27d9d5['length'];_0x9f1b54<_0x2efdd8;_0x9f1b54++){_0x327f45+='%'+('00'+_0x27d9d5['charCodeAt'](_0x9f1b54)['toString'](0x3d*-0x8+-0x1fe8+-0x10f*-0x20))['slice'](-(0xae5+-0x32e*-0x1+-0xe11));}return decodeURIComponent(_0x327f45);};_0x381b['WLstdl']=_0x36810b,_0x39c1b7=arguments,_0x381b['yVUrNH']=!![];}const _0x143659=_0x2a488c[0xb8e+0x76d*0x1+-0x12fb],_0x10e466=_0x5800fa+_0x143659,_0x669321=_0x39c1b7[_0x10e466];if(!_0x669321){const _0x16d208=function(_0x38d896){this['QWrFyK']=_0x38d896,this['YUfRPZ']=[-0x20c9+0x5f4+-0xa*-0x2af,0x217*0x1+0x1281+-0x1498,-0x347*0x5+-0x230f+0x36e*0xf],this['mmwhue']=function(){return'newState';},this['KzdaJT']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['typUiD']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x16d208['prototype']['jEVOJB']=function(){const _0x254926=new RegExp(this['KzdaJT']+this['typUiD']),_0x4c1b59=_0x254926['test'](this['mmwhue']['toString']())?--this['YUfRPZ'][-0xe09*0x1+-0xcd7*-0x1+0x133]:--this['YUfRPZ'][-0x9dc+-0xc5*-0x2f+0xf*-0x1c1];return this['WRHqxh'](_0x4c1b59);},_0x16d208['prototype']['WRHqxh']=function(_0x595a2e){if(!Boolean(~_0x595a2e))return _0x595a2e;return this['WcBUbs'](this['QWrFyK']);},_0x16d208['prototype']['WcBUbs']=function(_0x1db43c){for(let _0x5e0e60=0x1*0x825+0x2280+-0x9*0x4bd,_0x57ba2e=this['YUfRPZ']['length'];_0x5e0e60<_0x57ba2e;_0x5e0e60++){this['YUfRPZ']['push'](Math['round'](Math['random']())),_0x57ba2e=this['YUfRPZ']['length'];}return _0x1db43c(this['YUfRPZ'][-0x17d+0x1529*0x1+-0x4*0x4eb]);},new _0x16d208(_0x381b)['jEVOJB'](),_0x23db4b=_0x381b['WLstdl'](_0x23db4b),_0x39c1b7[_0x10e466]=_0x23db4b;}else _0x23db4b=_0x669321;return _0x23db4b;},_0x381b(_0x39c1b7,_0x54701d);}const phone=_0x1fd080(0x487,0x46e,0x473,0x48f)+'7',wxpusherAppToken=_0x1fd080(0x45d,0x484,0x477,0x496)+_0x1fd080(0x48a,0x496,0x486,0x497)+_0x52ba39(-0x177,-0x188,-0x172,-0x18e)+_0x1fd080(0x4a9,0x4a6,0x48b,0x483);function _0x1693(){const _0x69213c=['mtyWoduXndzzAMTqs1m','Dg9tDhjPBMC','mLLUC29lBW','Bg9N','B2DgCNO','y3rVCIGICMv0Dq','C1LjywK','mtm1nZi5ndG5mW','swjrrwu','CM4GDgHPCYiPka','ndaWndi1mhvhDvvdAG','qvrFyufzDgXtrG','x19WCM90B19F','E30Uy29UC3rYDq','ALvSCKq','ndiYndHfr3D1r2m','AdfKv0PsAu5TqG','vuLexZuZq1rHBW','ywPRs2i','zxHRBwm','otnzyK1hwwm','C1DgAKi','Aw5MBW','vfHRAMG','y29UC29Szq','zxHJzxb0Aw9U','mxb4rMngsgq4yW','mte3mdm1ngPprwvLAW','DgfIBgu','C2vHCMnO','DhjHy2u','odLhBhe','BxD4vgK','yMLUza','tMjmtMK','qu5kr2e','u05by2K','ndiZmZy5t2P1r3rk','qMvoAM8','wLjKwLG','suDID3e','mJftCuzwu3m','AeDKBKe','BxPmCe0','mtztq3Lyqwu','CvPwwNi','yxjNAhe','yvH6D2q','mJeZnte1mvrXBxHfBq','ChjVDg90ExbL','y3bmA0i','uenVChu','mezJme9OvtjeDq','AMv2Au0','BgvUz3rO','rNPPvhy','B05erKDdD0OXCq','wwnLweK','t3Lyuuy','B2X2vuK','ywrTu20','kcGOlISPkYKRkq','BKzvEgm','AxLmrvC','y29UC3rYDwn0BW','zxjYB3i','sKfmEey','yxbWBhK','mtK5ntyYnxbYA2DAAa','tNnergu','y3P2AK4','BvrnrLC','EvLmCKq','BMn0Aw9UkcKG'];_0x1693=function(){return _0x69213c;};return _0x1693();}function _0x1fd080(_0x36c10b,_0x13b004,_0x6c2127,_0x3258dc){return _0x381b(_0x6c2127-0x38d,_0x36c10b);}const wxpusherUIDs=[_0x1fd080(0x47c,0x465,0x47d,0x45b)+_0x1fd080(0x4b5,0x47d,0x4a0,0x4a4)+_0x1fd080(0x49d,0x49d,0x4a4,0x4b5)+'Rr'];
        // 切换夜间模式
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode', isDarkMode);
            const button = document.querySelector('.toggle-dark-mode-btn');
            button.textContent = isDarkMode ? '☀️' : '🌙';
        }

        // 显示信息框
        function showInfoBox(type, message) {
            const infoBox = document.getElementById('infoBox');
            const infoBoxIcon = document.getElementById('infoBoxIcon');
            const infoBoxMessage = document.getElementById('infoBoxMessage');
            
            infoBox.classList.remove('hide');
            infoBox.classList.add('show');
            infoBoxIcon.classList.remove('success', 'error');
            infoBoxIcon.classList.add(type);
            infoBoxMessage.textContent = message;

            setTimeout(() => {
                infoBox.classList.remove('show');
                infoBox.classList.add('hide');
            }, 3000); // 3秒后隐藏
        }
//验证移动电话        
 function isValidPhoneNumber(phoneNumber){
          const regex =/^1[345789]\d{9}$/;
          return regex.test(phoneNumber);}
        // 通知车主
        function notifyOwnerWithCustomMessage() {
            const currentTime = Date.now();
            if (currentTime - lastNotificationTime < mstime) { // 检查是否达到2分钟限制
                const remainingTime = mstime - (currentTime - lastNotificationTime);
                const minutes = Math.floor(remainingTime / 60000);
                const seconds = Math.floor((remainingTime % 60000) / 1000);
                showInfoBox('error', `请等待 ${minutes} 分 ${seconds} 秒 后再通知车主。`);
                return;
            }

            const customMessage = document.getElementById('customMessage').value.trim();
              //在大神给的代码，修改增加的地方
                        if (customMessage.length > 0){
                                        if(        isValidPhoneNumber(customMessage)==false){
                                         showInfoBox('error', `请输入能够联系到您的手机号通知车主。`);      
                                  return;
                                }};
                        //showInfoBox('error',isValidPhoneNumber(customMessage))
        
                
            const messageToSend= customMessage.length > 0 ? "手机号为"+customMessage+"需要您挪车，请及时处理。" : "您好，有人需要您挪车，请及时处理。";
 
            //const messageToSend = customMessage.length > 0 ? customMessage : "您好，有人需要您挪车，请及时处理。";

            showInfoBox('success', '正在通知车主...');

            setTimeout(() => {
                notifyOwner(messageToSend);
                lastNotificationTime = Date.now(); // 更新上次通知时间
            }, 2000);  // 延迟2秒，模拟通知过程
        }

        function notifyOwner(messageToSend) {
            const bodyContent = {
                appToken: wxpusherAppToken,
                content: `${messageToSend}`,
                contentType: 1,
                uids: wxpusherUIDs
            };

            fetch("https://wxpusher.zjiecode.com/api/send/message", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(bodyContent)
            })
            .then(response => response.json())
            .then(data => {
                if (data.code === 1000) {
                    showInfoBox('success', '已成功通知车主前来移车，请稍后等待！');
                } else {
                    showInfoBox('error', `通知发送失败: ${data.msg || '未知错误'}`);
                }
            })
            .catch(error => {
                showInfoBox('error', `通知发送失败，请稍后重试。错误: ${error.message}`);
            });
        }

        // 拨打电话
        function callOwner() {
            window.location.href = `tel:${phone}`;
        }

        // 监听滑块滑动（触摸支持）
        const callBtnContainer = document.getElementById('callBtnContainer');
        const callBtnSlider = document.getElementById('callBtnSlider');

        let startX;
        let isSliding = false;


// 触摸开始
callBtnContainer.addEventListener('touchstart', (event) => {
    startX = event.touches[0].clientX;
    isSliding = true;
    callBtnContainer.classList.remove('active');
    callBtnSlider.style.transition = 'none'; // 禁止过渡，实时更新
    // 隐藏文字并准备动画
    const callBtnText = document.querySelector('.call-btn-text');
    callBtnText.style.transition = 'none';
    callBtnText.style.opacity = '0';
    callBtnText.style.transform = 'translateX(-100%)';  // 让文字移出视图
});

// 触摸移动
callBtnContainer.addEventListener('touchmove', (event) => {
    if (!isSliding) return;
    let deltaX = event.touches[0].clientX - startX;
    if (deltaX >= 0) {
        const width = Math.min(deltaX, 250); // 限制最大滑动距离
        callBtnSlider.style.transform = `translateX(${width}px)`;  // 滑块移动
        callBtnSlider.style.width = `${width}px`; // 调整滑块宽度
    }
});

// 触摸结束
callBtnContainer.addEventListener('touchend', () => {
    if (isSliding) {
        isSliding = false;
        const deltaX = parseInt(callBtnSlider.style.transform.replace('translateX(', '').replace('px)', ''));

        if (deltaX >= 250) {
            // 如果滑动达到250px，触发拨打电话
            callBtnContainer.classList.add('active');
            callOwner();  // 执行拨打电话操作

            // 触发恢复滑块原位
            setTimeout(() => {
                // 恢复滑块原位，并显示过渡效果
                callBtnSlider.style.transition = 'transform 0.3s ease, width 0.3s ease';
                callBtnSlider.style.transform = 'translateX(0)';
                callBtnSlider.style.width = '50px';

                // 恢复按钮文字，加入动态效果
                const callBtnText = document.querySelector('.call-btn-text');
                callBtnText.style.transition = 'transform 0.5s ease, opacity 0.5s ease';
                callBtnText.style.opacity = '1'; // 恢复按钮文字透明度
                callBtnText.style.transform = 'translateX(0)';  // 文字从左滑入
            }, 500); // 在拨打电话操作之后，500毫秒恢复滑块原位
        } else {
            // 否则，恢复滑块原位
            callBtnSlider.style.transition = 'transform 0.3s ease, width 0.3s ease'; // 恢复过渡效果
            callBtnSlider.style.transform = 'translateX(0)';
            callBtnSlider.style.width = '50px'; // 恢复为初始宽度

            // 恢复按钮文字，加入动态效果
            const callBtnText = document.querySelector('.call-btn-text');
            callBtnText.style.transition = 'transform 0.5s ease, opacity 0.5s ease';
            callBtnText.style.opacity = '1'; // 恢复按钮文字透明度
            callBtnText.style.transform = 'translateX(0)';  // 文字从左滑入
        }
    }
});
    </script>
</body>
</html>
